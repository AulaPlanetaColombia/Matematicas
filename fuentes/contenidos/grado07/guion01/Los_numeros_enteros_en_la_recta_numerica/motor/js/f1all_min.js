/* VERSION : 15.2.26.1 */ 
var pppUI;(function(a){(function(i){function h(n,p,o,m,r){if(typeof r==="undefined"){r=true}var q=new a.UIObject(n);q.addClass(o);if(r&&TLF.isTLF(p)){q.addClass("tlfText");q.setContent(TLF.toHTML(p,function(s){return FUtils.realResourcePath(s)}))}else{q.setContent(p)}q.position=m;return q}i.createTextBox=h;function g(n,s,q,m,p,r){var o=new a.UIButton(n,q,p,s);o.command=r;o.position=m;return o}i.createEventButton=g;function l(u,q,v,m,t,n,s){if(typeof s==="undefined"){s=a.UIButton.BUTTON}var o;var r=new Array();for(o=0;o<t.length;o++){var p=new a.UIButton(t[o].id,t[o].className,s,t[o].content);if(m){p.x=q.x;p.y=q.y+o*v}else{p.x=q.x+o*v;p.y=q.y}p.width=q.width;p.height=q.height;p.visible=t[o].visible;p.command=n;u.addChild(p);r.push(p)}return r}i.createButtonList=l;function f(p,s,r,q){if(typeof q==="undefined"){q=a.UIButton.BUTTON}var o;var n=new Array();for(o=0;o<s.length;o++){var m=new a.UIButton(s[o].id,s[o].className,q,s[o].content);m.position=s[o].position;m.visible=s[o].visible;m.command=r;p.addChild(m);n.push(m)}return n}i.createButtonListVarPos=f;function e(r,m,n,t,s){var q;var p=new Array();for(q=0;q<t.length;q++){var o=new a.UIButton(t[q].id,t[q].className,a.UIButton.BUTTON,t[q].content);o.x=m.x;o.y=m.y+q*n;o.width=m.width;o.height=m.height;o.visible=t[q].visible;o.command=s;r.addChild(o);p.push(o)}return p}i.createButtonColumn2=e;function d(v,r,n,m,u,w,o){var p;var s=r.y;var t=new Array();for(p=0;p<u.length&&p<w;p++){var q=new a.UIButton(u[p].id,u[p].className,2,u[p].content);q.x=(p<u.length/2)?r.x:r.x+n;q.y=s+Math.floor(p%(u.length/2))*m;q.width=r.width;q.height=r.height;q.visible=u[p].visible;q.command=o;v.addChild(q);t.push(q)}return t}i.createButton2Columns=d;function j(v,q,x,n,u,o,p,t,r,w){if(typeof r==="undefined"){r="slideContainer"}if(typeof w==="undefined"){w=""}var m=new a.UISlider(r);m.addClass(w);m.position=t;v.addChild(m);var s=l(v,q,x,n,u,o,p);s.push(m);return s}i.createButtonsTabs=j;function c(n,m){if(n==null||n.DOMItem==null){return}var o=n.DOMItem;if(n instanceof a.UIRichText){o=n.$DOMItem.find("#realContent")[0];if(o==null){return}}if((o.scrollHeight-o.clientHeight)>3){var p=new a.UIImage("scrollMarker","","motor/images/scrollmarkertrans.png",a.UIImage.ADJUSTMODE_NONE,39,39);p.x=n.x+n.width-39-((m)?10:20);p.y=n.y+n.height-39-10;p.visible=false;n.parent.addChild(p);p.fadeIn(600);setTimeout(function(){if(p.DOMItem){p.fadeOut(500,function(){if(p.DOMItem){p.remove()}})}},2000)}}function k(o,n){var m=(navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|Touch/i)!=null);var p=(navigator.userAgent.match(/Trident/i)!=null)&&(navigator.userAgent.match(/Touch/i)!=null);if(n==true&&m==false||p){return}setTimeout(function(){c(o,m)},500)}i.showScrollMarker=k})(a.Utils||(a.Utils={}));var b=a.Utils})(pppUI||(pppUI={}));var FUtils;(function(b){function c(g){if((g.indexOf("data/imagenes/")==0)||(g.indexOf("data/sonidos/")==0)||(g.indexOf("data/videos/")==0)||(g.indexOf("data/recursos/")==0)||(g.indexOf("data/actividades/")==0)||(g=="data/datos.xml")){return g}if(g.indexOf("medias/")==0){g=g.substring("medias/".length)}var f=g.substr(g.lastIndexOf(".")+1).toLowerCase();switch(f){case"jpg":case"jpeg":case"gif":case"png":case"svg":case"bmp":return"data/imagenes/"+g;case"swf":return"data/imagenes/"+g.replace(/\.swf/i,".png");case"mp4":return"data/videos/"+g;case"flv":return"data/videos/"+g.replace(/\.flv/i,".mp4");case"mp3":case"wav":return"data/sonidos/"+g;case"zip":return"data/actividades/"+g.replace(/\.zip/,"_zip")+"/Principal.html";case"xml":return"data/"+g;default:return"data/imagenes/"+g}}b.realResourcePath=c;var e={blocks:[{type:"img",files:[]}],spinner:"no",waitForDocumentReady:false,onEndLoading:null};function d(h,g){if(h==null||h==undefined||g==null||g==undefined||h==""||g==""){return}for(var f=0;f<e.blocks[0].files.length;f++){if(e.blocks[0].files[f].from==h&&e.blocks[0].files[f].file==g){return}}e.blocks[0].files.push({from:h,file:g})}b.addImageToPreloader=d;function a(f){if(e.blocks[0].files.length==0){f(e)}else{e.onEndLoading=f;pppPreloader.loadManifest(e)}}b.preloadImages=a})(FUtils||(FUtils={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var c=(function(d){__extends(e,d);function e(g){d.call(this,g);this.onShowAmp=null;var f=this;this.setCSSClass("bkWhite");this.current=0;this.items=null;this.width=426;this.height=385;this.panner=new b.UIZoomPanner("id");this.panner.editable=false;this.panner.position={x:2,y:42,width:422,height:261};this.addChild(this.panner);this.pannerBk=new b.UIObject("back");this.pannerBk.editable=false;this.pannerBk.addClass("inner2pxBordered");this.pannerBk.$DOMItem.css("pointer-events","none");this.pannerBk.position={x:0,y:40,width:426,height:265};this.addChild(this.pannerBk);this.zoomIn=new b.UIButton(g,"",b.UIButton.BUTTON,"");this.zoomIn.editable=false;this.zoomIn.setCSSClass("iconPlusButton");this.zoomIn.position={x:0,y:0,width:37,height:37};this.zoomIn.command=function(h,i){f.panner.zoom=f.panner.zoom*1.5};this.addChild(this.zoomIn);this.zoomOut=new b.UIButton(g,"",b.UIButton.BUTTON,"");this.zoomOut.editable=false;this.zoomOut.setCSSClass("iconMinusButton");this.zoomOut.position={x:42,y:0,width:37,height:37};this.zoomOut.command=function(h,i){var j=f.panner.zoom/1.5;if(j<1){j=1}f.panner.zoom=j};this.addChild(this.zoomOut);this.amp=new b.UIButton(g,"",b.UIButton.BUTTON,"");this.amp.editable=false;this.amp.setCSSClass("iconRoundAmpButton");this.amp.position={x:389,y:0,width:37,height:37};this.amp.command=function(i,j){var h=f.items[f.current].amp;if(h!=null&&h!=""){if(f.onShowAmp!=null){f.onShowAmp(h)}}};this.addChild(this.amp);this.pieHide=new b.UIButton(g,"",b.UIButton.BUTTON,"");this.pieHide.editable=false;this.pieHide.setCSSClass("iconNoInfoButton");this.pieHide.position={x:389,y:308,width:37,height:37};this.pieHide.command=function(h,i){i.visible=false;f.pieShow.visible=true;f.pie.visible=false};this.pieHide.visible=false;this.addChild(this.pieHide);this.pieShow=new b.UIButton(g,"",b.UIButton.BUTTON,"");this.pieShow.editable=false;this.pieShow.setCSSClass("iconInfoButton");this.pieShow.position={x:389,y:308,width:37,height:37};this.pieShow.command=function(h,i){i.visible=false;f.pieHide.visible=true;f.pie.visible=true};this.addChild(this.pieShow);this.prev=new b.UIButton(g,"",b.UIButton.BUTTON,"");this.prev.editable=false;this.prev.setCSSClass("iconPrevButton");this.prev.position={x:8,y:260,width:37,height:37};this.prev.command=function(h,i){if(f.current>0){f.setCurrent(f.current-1);f.adjustPrevNext()}};this.prev.enabled=false;this.addChild(this.prev);this.next=new b.UIButton(g,"",b.UIButton.BUTTON,"");this.next.editable=false;this.next.setCSSClass("iconNextButton");this.next.position={x:381,y:260,width:37,height:37};this.next.command=function(h,i){if(f.current<(f.items.length-1)){f.setCurrent(f.current+1);f.adjustPrevNext()}};this.next.enabled=false;this.addChild(this.next);this.pie=new b.UISimpleText("pie","defaultPieText","");this.pie.editable=false;this.pie.alignMode=b.UISimpleText.ALIGN_LEFT|b.UISimpleText.ALIGN_TOP;this.pie.position={x:-10,y:305,width:385,height:80};this.pie.visible=false;this.addChild(this.pie)}e.prototype.setItems=function(f){this.items=f};e.prototype.adjustPrevNext=function(){if(this.items.length<=1){this.prev.enabled=false;this.next.enabled=false}else{if(this.current==0){this.prev.enabled=false}else{this.prev.enabled=true}if(this.current==(this.items.length-1)){this.next.enabled=false}else{this.next.enabled=true}}};e.prototype.setCurrent=function(g){if(this.items.length==0){return}if(this.current!=g){this.current=g;var f=this.createItem(this.items[this.current],this.current);this.panner.zoom=1;this.panner.addContent(f);this.adjustPrevNext();this.pieHide.visible=false;this.pieShow.visible=true;this.pie.setContent(this.items[this.current].desc);this.pie.visible=false}};e.prototype.createItem=function(g,f){if(g.type=="image"){var h=new b.UIImage("item_"+f,"",pppPreloader.from("data",FUtils.realResourcePath(g.path)),b.UIImage.ADJUSTMODE_AUTOSIZE);return h}else{if(g.type=="text"){var j=new b.UIRichText("item_"+f,"",g.content);j.width=426;j.height=265;return j}}};e.prototype.onReady=function(){this.current=-1;this.setCurrent(0)};return e})(b.UIObject);b.UIComparerModule=c;var a=(function(e){__extends(d,e);function d(g){e.call(this,g);this.onShowAmp=null;var f=this;this.width=859;this.height=385;this.left=new c("left");this.left.editable=false;this.left.onShowAmp=function(h){f.doShowAmp(h)};this.left.x=0;this.addChild(this.left);this.right=new c("right");this.right.editable=false;this.right.onShowAmp=function(h){f.doShowAmp(h)};this.right.x=433;this.addChild(this.right)}d.prototype.addItems=function(f){if(f==null){return}this.left.setItems(f);this.right.setItems(f)};d.prototype.onReady=function(){this.left.onReady();this.right.onReady()};d.prototype.onResize=function(){this.width=859;this.height=385};d.prototype.doShowAmp=function(f){if(this.onShowAmp!=null){this.onShowAmp(f)}};return d})(b.UIObject);b.UIComparer=a})(pppUI||(pppUI={}));var DOInterpreter=function(a){var b=this;this.topEnv=Object.create(Object.prototype);this.specialForms=Object.create(Object.prototype);this.program=null;this.topEnv["true"]=true;this.topEnv["false"]=false;["+","-","*","/","==","<",">","&&","||"].forEach(function(c){b.topEnv[c]=new Function("env, a, b","return a "+c+" b;")});["!"].forEach(function(c){b.topEnv[c]=new Function("env, a","return "+c+" a;")});this.topEnv.trace=function(c,d){console.log(d);return d};this.topEnv.alert=function(c,d){d=d.replace(/\\n/g,"\n");alert(d);return d};this.topEnv.log=function(c,d){console.log(d);return d};this.topEnv.array=function(c){return Array.prototype.slice.call(arguments,0)};this.topEnv.array_length=function(c,d){return d.length};this.topEnv.array_get=function(d,e,c){return e[c]};this.topEnv.array_set=function(d,f,c,e){f[c]=e};this.topEnv.string=function(e){var d="";for(var c=0;c<arguments.length;c++){d+=arguments[c].toString()}return d};this.topEnv.string_substring=function(c,d,f,e){return d.substring(f,e)};this.topEnv.string_length=function(c,d){return d.length};this.topEnv.string_indexOf=function(c,d,e){return d.indexOf(e)};this.topEnv.wait=function(d,g,c){var e;var f={timerId:0,callback:c};f.timerId=setTimeout(function(){f.timerId=0;f.callback=null;c()},g);return f};this.topEnv.cancelWait=function(d,e,c){if(e&&e.timerId>0){clearTimeout(e.timerId);if(c==true){e.callback()}e.timerId=0;e.callback=null}return 0};this.specialForms["if"]=function(c,d){if(c.length!=2&&c.length!=3){throw new SyntaxError("Número incorreco de argumentos para 'if'")}if(b.evaluate(c[0],d)!==false){return b.evaluate(c[1],d)}else{if(c.length==3){return b.evaluate(c[2],d)}}};this.specialForms["while"]=function(c,d){if(c.length!=2){throw new SyntaxError("Número incorrecto de argumentos para 'while'")}while(b.evaluate(c[0],d)!==false){b.evaluate(c[1],d)}return false};this.specialForms["for"]=function(c,d){if(c.length!=4){throw new SyntaxError("Número incorrecto de argumentos para 'while'")}b.evaluate(c[0],d);while(b.evaluate(c[1],d)!==false){b.evaluate(c[3],d);b.evaluate(c[2],d)}return false};this.specialForms["do"]=function(c,d){var e=false;c.forEach(function(f){e=b.evaluate(f,d)});return e};this.specialForms["var"]=function(c,d){if(c.length!=2||c[0].type!="word"){throw new SyntaxError("Uso incorrecto de 'var'")}var e=b.evaluate(c[1],d);d[c[0].name]=e;return e};this.specialForms.global=function(c,d){if(c.length!=2||c[0].type!="word"){throw new SyntaxError("Uso incorrecto de 'global'")}var e=b.evaluate(c[1],d);b.topEnv[c[0].name]=e;return e};this.specialForms.set=function(c,e){if(c.length!=2||c[0].type!="word"){throw new SyntaxError("Uso incorrecto de 'set'")}var g=c[0].name;var f=b.evaluate(c[1],e);for(var d=e;d;d=Object.getPrototypeOf(d)){if(Object.prototype.hasOwnProperty.call(d,g)){d[g]=f;return f}}throw new ReferenceError("Variable no definida '"+g+"' en 'set'")};this.specialForms["function"]=function(f,g){if(!f.length){throw new SyntaxError("Las funciones necesitan un cuerpo")}function e(h){if(h.type!="word"){throw new SyntaxError("Los nombres de los argumentos deben ser identificadores")}return h.name}var d=f.slice(0,f.length-1).map(e);var c=f[f.length-1];return function(){if(arguments.length!=d.length){throw new TypeError("Número incorrecto de argumentos")}var j=Object.create(g);for(var h=0;h<arguments.length;h++){j[d[h]]=arguments[h]}return b.evaluate(c,j)}};this.skipSpace=function(c){var d=c.match(/^(\s|\/\/.*)*/);return c.slice(d[0].length)};this.stringREDQ=new RegExp('\\\\"',"g");this.doStringToNativeStringDQ=function(c){c=c.replace(this.stringREDQ,'"');c=c.substring(1,c.length-1);return c};this.stringRESQ=new RegExp("\\\\'","g");this.doStringToNativeStringSQ=function(c){c=c.replace(this.stringRESQ,"'");c=c.substring(1,c.length-1);return c};this.parseExpression=function(c){c=this.skipSpace(c);var d,e;if(d=/^"(?:[^"\\]|\\.)*"/.exec(c)){e={type:"value",value:this.doStringToNativeStringDQ(d[0])}}else{if(d=/^'(?:[^'\\]|\\.)*'/.exec(c)){e={type:"value",value:this.doStringToNativeStringSQ(d[0])}}else{if(d=/^(-?(\d|\.))+\b/.exec(c)){e={type:"value",value:Number(d[0])}}else{if(d=/^[^\s(),"']+/.exec(c)){e={type:"word",name:d[0]}}else{throw new SyntaxError("Error de sintaxis: "+c)}}}}return this.parseApply(e,c.slice(d[0].length))};this.parseApply=function(e,d){d=this.skipSpace(d);if(d[0]!="("){return{expr:e,rest:d}}d=this.skipSpace(d.slice(1));e={type:"apply",operator:e,args:[]};while(d[0]!=")"){var c=this.parseExpression(d);e.args.push(c.expr);d=this.skipSpace(c.rest);if(d[0]==","){d=this.skipSpace(d.slice(1))}else{if(d[0]!=")"){throw new SyntaxError("Esperado ',' o ')' y encontrado '"+d.substring(0,1)+"'.\n\nMirar en:\n"+d.substring(0,50)+"...'")}}}return this.parseApply(e,d.slice(1))};this.parse=function(d){var c=this.parseExpression(d);if(this.skipSpace(c.rest).length>0){throw new SyntaxError("Hay texto inválido al final del script:\n\n'"+c.rest.trim()+"'")}return c.expr};this.evaluate=function(d,c){switch(d.type){case"value":return d.value;case"word":if(d.name in c){return c[d.name]}else{throw new ReferenceError("Variable no definida '"+d.name+"'")}case"apply":if(d.operator.type=="word"&&d.operator.name in this.specialForms){return this.specialForms[d.operator.name](d.args,c)}var f=this.evaluate(d.operator,c);if(typeof f!="function"){throw new TypeError("Intentando ejecutar como Función algo que no lo es")}var e=d.args.map(function(g){return b.evaluate(g,c)});e.unshift(c);return f.apply(null,e)}};this.cloneEnv=function(j){var f=[];for(var h=j;h!=this.topEnv;h=Object.getPrototypeOf(h)){f.unshift(h)}var g=this.topEnv;var k=null;for(var e=0;e<f.length;e++){var c=f[e];var k=Object.create(g);for(var d in c){if(c.hasOwnProperty(d)){k[d]=c[d]}}g=k}return k};this.createClosure=function(c,d){var e={env:this.cloneEnv(d),program:this.program,executionPoint:c};return e};this.newEnv=function(){var c=Object.create(this.topEnv);return c};this.run=function(d,c){if(c==null||c==undefined){c=this.newEnv()}this.program=this.parse(d);return this.evaluate(this.program,c)};this.runClosure=function(c){return this.evaluate(c.executionPoint,c.env)};if(a!=null&&typeof a=="function"){a(this)}};var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var stage;var mainSlider;var WATERMARK_POS={x:20,y:20,width:62,height:62};var tplComponentCommon={jsCommonDataFromXML:function(a,b){b.id=a.getAttribute("id")||"_noId";b.x=parseInt(a.getAttribute("x")||"0");b.y=parseInt(a.getAttribute("y")||"0");b.width=parseInt(a.getAttribute("width")||"100");b.height=parseInt(a.getAttribute("height")||"30");b.alpha=parseFloat(a.getAttribute("alpha")||"1");b.visible=((a.getAttribute("visible")||"1")=="1");b.enabled=((a.getAttribute("enabled")||"1")=="1");b.scaleX=parseFloat(a.getAttribute("scaleX")||"1");b.scaleY=parseFloat(a.getAttribute("scaleY")||"1")}};var tplComponentRoundButton={id:"_compRoundButton",restoreComponent:function(a,e){var b=e.id;var l=parseInt(e.x);var j=parseInt(e.y);var c=parseInt(e.width);var n=parseInt(e.height);var f=parseFloat(e.alpha);var d=e.visible;var i=e.enabled;var o=e.cssClass;var m=parseInt(e.group);var h=e.content;var k=e.doOnClick;var g=new pppUI.UITextButton(b,"",m,h);g.extra._type=tplComponentRoundButton.id;g.setCSSClass(o);g.position={x:l,y:j,width:c,height:n};g.alpha=f;g.visible=d;g.enabled=i;g.command=function(p,q){executeScript(g,"onClick",k)};if(e.scaleX!=1&&e.scaleY!=1){g.scaleX=e.scaleX;g.scaleY=e.scaleY}a.addChild(g);return g},jsDataFromXML:function(a,b){b._type=tplComponentRoundButton.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.cssClass=a.getAttribute("cssClass")||"";b.group=parseInt(a.getAttribute("group")||"-1");b.content=$(a).find("content").text();var c=$(a).find("event[id='onClick']").text();if(c==null||c==undefined||c=="undefined"){c=""}b.doOnClick=c}};var tplComponentImageButton={id:"_compImageButton",restoreComponent:function(a,f){var b=f.id;var n=parseInt(f.x);var l=parseInt(f.y);var c=parseInt(f.width);var p=parseInt(f.height);var h=parseFloat(f.alpha);var d=f.visible;var k=f.enabled;var j=parseInt(f.adjustMode);var g=parseInt(f.alignMode);var o=parseInt(f.group);var e=f.image;var m=f.doOnClick;var i=new pppUI.UIImageButton(b,"brightImageButton",o,pppPreloader.from("data",FUtils.realResourcePath(e)),j,-1,-1,g);i.extra._type=tplComponentImageButton.id;i.position={x:n,y:l,width:c,height:p};i.alpha=h;i.visible=d;i.enabled=k;i.command=function(q,r){executeScript(i,"onClick",m)};a.addChild(i);return i},jsDataFromXML:function(a,b){b._type=tplComponentImageButton.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.adjustMode=parseInt(a.getAttribute("adjustMode")||"3");b.alignMode=parseInt(a.getAttribute("alignMode")||"0");b.group=parseInt(a.getAttribute("group")||"-1");b.image=a.getAttribute("image")||"";var c=$(a).find("event[id='onClick']").text();if(c==null||c==undefined||c=="undefined"){c=""}b.doOnClick=c;FUtils.addImageToPreloader("data",pppPreloader.from("data",FUtils.realResourcePath(b.image)))}};var tplComponentIconButton={id:"_compIconButton",restoreComponent:function(a,e){var b=e.id;var k=parseInt(e.x);var i=parseInt(e.y);var c=parseInt(e.width);var m=parseInt(e.height);var f=parseFloat(e.alpha);var d=e.visible;var h=e.enabled;var n=e.cssClass;var l=parseInt(e.group);var j=e.doOnClick;var g=new pppUI.UIButton(b,"",l,"");g.extra._type=tplComponentIconButton.id;g.setCSSClass(n);g.position={x:k,y:i,width:c,height:m};g.alpha=f;g.visible=d;g.enabled=h;g.command=function(o,p){executeScript(g,"onClick",j)};a.addChild(g);return g},jsDataFromXML:function(a,b){b._type=tplComponentIconButton.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.cssClass=a.getAttribute("cssClass")||"";b.group=parseInt(a.getAttribute("group")||"-1");var c=$(a).find("event[id='onClick']").text();if(c==null||c==undefined||c=="undefined"){c=""}b.doOnClick=c}};var tplComponentRichTextButton={id:"_compRichTextButton",restoreComponent:function(a,e){var b=e.id;var l=parseInt(e.x);var j=parseInt(e.y);var c=parseInt(e.width);var n=parseInt(e.height);var f=parseFloat(e.alpha);var d=e.visible;var i=e.enabled;var o=e.cssClass;var m=parseInt(e.group);var h=e.content;var k=e.doOnClick;var g=new pppUI.UITextButton(b,"",m,h,false);g.extra._type=tplComponentRichTextButton.id;g.setCSSClass(o);g.position={x:l,y:j,width:c,height:n};g.alpha=f;g.visible=d;g.enabled=i;g.command=function(p,q){executeScript(g,"onClick",k)};if(e.scaleX!=1&&e.scaleY!=1){g.scaleX=e.scaleX;g.scaleY=e.scaleY}a.addChild(g);return g},jsDataFromXML:function(a,b){b._type=tplComponentRichTextButton.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.cssClass=a.getAttribute("cssClass")||"";b.group=parseInt(a.getAttribute("group")||"-1");b.content=$(a).find("content").text();var c=$(a).find("event[id='onClick']").text();if(c==null||c==undefined||c=="undefined"){c=""}b.doOnClick=c}};var tplComponentSimpleText={id:"_compSimpleText",restoreComponent:function(a,e){var b=e.id;var l=parseInt(e.x);var k=parseInt(e.y);var c=parseInt(e.width);var m=parseInt(e.height);var g=parseFloat(e.alpha);var d=e.visible;var j=e.enabled;var n=e.cssClass;var i=e.content;var f=e.alignMode;var h=new pppUI.UISimpleText(b,"",i);h.extra._type=tplComponentSimpleText.id;h.setCSSClass(n);h.position={x:l,y:k,width:c,height:m};h.alpha=g;h.visible=d;h.enabled=j;h.alignMode=f;a.addChild(h);return h},jsDataFromXML:function(a,b){b._type=tplComponentSimpleText.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.cssClass=a.getAttribute("cssClass")||"";b.alignMode=parseInt(a.getAttribute("alignMode")||"17");b.content=$(a).find("content").text()}};var tplComponentRichText={id:"_compRichText",prefix:"texto",desc:"Texto HTML",onChangedId:null,bindLink:function(d,b){var c=b.getAttribute("rel").substr(3).trim();b.addEventListener("mousedown",function(a){a.stopImmediatePropagation();executeDOScript(d,"a",c);return false})},restoreComponent:function(a,f){var c=f.id;var l=parseInt(f.x);var k=parseInt(f.y);var d=parseInt(f.width);var m=parseInt(f.height);var g=parseFloat(f.alpha);var e=f.visible;var i=f.enabled;var h=f.content;var j=f.scrollable;var b=new pppUI.UIRichText(c,"",h);b.extra._type=tplComponentRichText.id;b.extra.scrollable=j;b.scrollable=j;b.position={x:l,y:k,width:d,height:m};b.alpha=g;b.visible=e;b.enabled=i;a.addChild(b);setTimeout(function(){var n=b.$DOMItem.find('a[rel^="do:"]');for(var p=0;p<n.length;p++){var o=n[p];tplComponentRichText.bindLink(b,o)}},0);return b},jsDataFromXML:function(a,b){b._type=tplComponentRichText.id;b.scrollable=((a.getAttribute("scrollable")||"1")=="1");tplComponentCommon.jsCommonDataFromXML(a,b);b.content=$(a).find("content").text()}};var tplComponentImage={id:"_compImage",restoreComponent:function(a,f){var b=f.id;var l=parseInt(f.x);var k=parseInt(f.y);var c=parseInt(f.width);var n=parseInt(f.height);var h=parseFloat(f.alpha);var d=f.visible;var j=f.enabled;var o=f.cssClass;var i=parseInt(f.adjustMode);var g=parseInt(f.alignMode);var m=f.image;var e=new pppUI.UIImage(b,"",pppPreloader.from("data",FUtils.realResourcePath(m)),i,-1,-1,g);e.setCSSClass(o);e.extra._type=tplComponentImage.id;e.position={x:l,y:k,width:c,height:n};e.alpha=h;e.visible=d;e.enabled=j;a.addChild(e);return e},jsDataFromXML:function(a,b){b._type=tplComponentImage.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.cssClass=a.getAttribute("cssClass")||"";b.adjustMode=parseInt(a.getAttribute("adjustMode")||"0");b.alignMode=parseInt(a.getAttribute("alignMode")||"0");b.image=a.getAttribute("image")||"";FUtils.addImageToPreloader("data",pppPreloader.from("data",FUtils.realResourcePath(b.image)))}};var tplComponentAnimatedGIF={id:"_compAnimatedGIF",restoreComponent:function(a,h){var b=h.id;var o=parseInt(h.x);var n=parseInt(h.y);var c=parseInt(h.width);var p=parseInt(h.height);var j=parseFloat(h.alpha);var e=h.visible;var m=h.enabled;var q=h.cssClass;var k=parseInt(h.adjustMode);var i=parseInt(h.alignMode);var l=h.image;var g=h.anim;var d=h.autoplay;var f=new pppUI.UIAnimatedGIF(b,"",l,g,k,-1,-1,i);f.extra._type=tplComponentAnimatedGIF.id;f.setCSSClass(q);f.position={x:o,y:n,width:c,height:p};f.alpha=j;f.visible=e;f.enabled=m;f.extra.autoplay=d;a.addChild(f);return f},jsDataFromXML:function(a,b){b._type=tplComponentAnimatedGIF.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.cssClass=a.getAttribute("cssClass")||"";b.adjustMode=parseInt(a.getAttribute("adjustMode")||"0");b.alignMode=parseInt(a.getAttribute("alignMode")||"0");b.image=a.getAttribute("image")||"";b.anim=a.getAttribute("anim")||"";b.autoplay=((a.getAttribute("autoplay")||"0")=="1")}};var tplComponentAudioClip={id:"_compAudioClip",restoreComponent:function(a,f){var b=f.id;var l=parseInt(f.x);var k=parseInt(f.y);var c=parseInt(f.width);var m=parseInt(f.height);var g=parseFloat(f.alpha);var e=f.visible;var j=f.enabled;var i=f.audio;var d=f.autoplay;var h=new pppUI.UIMediaAudioClip(b,i);h.extra._type=tplComponentAudioClip.id;h.position={x:l,y:k,width:c,height:m};h.alpha=g;h.visible=e;h.enabled=j;h.extra.autoplay=d;a.addChild(h);return h},jsDataFromXML:function(a,b){b._type=tplComponentAudioClip.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.audio=a.getAttribute("audio")||"";b.autoplay=((a.getAttribute("autoplay")||"0")=="1")}};var tplComponentCSSBox={id:"_compCSSBox",restoreComponent:function(a,e){var b=e.id;var i=parseInt(e.x);var h=parseInt(e.y);var c=parseInt(e.width);var k=parseInt(e.height);var f=parseFloat(e.alpha);var d=e.visible;var g=e.enabled;var l=e.cssClass;var j=new pppUI.UIObject(b);j.extra._type=tplComponentCSSBox.id;j.position={x:i,y:h,width:c,height:k};j.alpha=f;j.visible=d;j.enabled=g;j.setCSSClass(l);a.addChild(j);return j},jsDataFromXML:function(a,b){b._type=tplComponentCSSBox.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.cssClass=a.getAttribute("cssClass")||""}};var tplComponentSlider={id:"_compSlider",restoreComponent:function(a,f){var c=f.id;var j=parseInt(f.x);var i=parseInt(f.y);var d=parseInt(f.width);var k=parseInt(f.height);var g=parseFloat(f.alpha);var e=f.visible;var h=f.enabled;var l=parseInt(f.transMode);var b=new pppUI.UISlider(c);b.extra._type=tplComponentSlider.id;b.position={x:j,y:i,width:d,height:k};b.alpha=g;b.visible=e;b.enabled=h;b.transMode=l;a.addChild(b);return b},jsDataFromXML:function(a,b){b._type=tplComponentSlider.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.transMode=parseInt(a.getAttribute("transMode")||"0")}};var tplComponentSliderNav={id:"_compSliderNav",restoreComponent:function(a,f){var b=f.id;var n=parseInt(f.x);var m=parseInt(f.y);var c=parseInt(f.width);var o=parseInt(f.height);var g=parseFloat(f.alpha);var e=f.visible;var l=f.enabled;var d=f.sliderId;var h=f.showHome;var i=f.whiteButtons;var k=f.mode;var j=new pppUI.UISliderNav(b,d,h);j.extra._type=tplComponentSliderNav.id;j.position={x:n,y:m,width:c,height:o};j.alpha=g;j.visible=e;j.enabled=l;j.whiteButtons=i;j.showPrevOn=k;a.addChild(j);return j},jsDataFromXML:function(a,b){b._type=tplComponentSliderNav.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.sliderId=a.getAttribute("sliderId")||"";b.showHome=((a.getAttribute("showHome")||"1")=="1");b.whiteButtons=((a.getAttribute("whiteButtons")||"0")=="1");b.mode=parseInt((a.getAttribute("mode")||"1"))}};var tplComponentComparer={id:"_compComparer",restoreComponent:function(a,e){var b=e.id;var j=parseInt(e.x);var i=parseInt(e.y);var c=parseInt(e.width);var k=parseInt(e.height);var f=parseFloat(e.alpha);var d=e.visible;var h=e.enabled;var g=new pppUI.UIComparer(b);g.extra._type=tplComponentComparer.id;g.position={x:j,y:i,width:c,height:k};g.alpha=f;g.visible=d;g.enabled=h;a.addChild(g);g.addItems(e.items);g.onReady();g.onShowAmp=function(l){executeScript(g,"onShownAmp","popup_open('"+l+"')")};return g},jsDataFromXML:function(d,g){g._type=tplComponentComparer.id;tplComponentCommon.jsCommonDataFromXML(d,g);var h=$(d).children("item");g.items=new Array();for(var c=0;c<h.length;c++){var b=h[c];var e=b.getAttribute("type")||"text";var a=b.getAttribute("amp")||"";var f={type:e,desc:"",amp:a};if(e=="image"){f.path=b.getAttribute("path")||""}else{f.content=$(b).children("content").text()}f.desc=$(b).children("desc").text();g.items.push(f)}}};var tplComponentActivity={id:"_compActivity",restoreComponent:function(b,f){var c=f.id;var k=parseInt(f.x);var j=parseInt(f.y);var d=parseInt(f.width);var l=parseInt(f.height);var g=parseFloat(f.alpha);var e=f.visible;var i=f.enabled;var a=f.src;var h=new pppUI.UIIframe(c,pppPreloader.from("data",FUtils.realResourcePath(a)),true);h.extra._type=tplComponentActivity.id;h.position={x:k,y:j,width:d,height:l};h.alpha=g;h.visible=e;h.enabled=i;b.addChild(h);return h},jsDataFromXML:function(a,b){b._type=tplComponentActivity.id;tplComponentCommon.jsCommonDataFromXML(a,b);b.src=a.getAttribute("src")||""}};var tplComponents={_compRoundButton:{template:tplComponentRoundButton,ui:true,slides:false},_compImageButton:{template:tplComponentImageButton,ui:true,slides:false},_compIconButton:{template:tplComponentIconButton,ui:true,slides:false},_compRichTextButton:{template:tplComponentRichTextButton,ui:true,slides:false},_compSlider:{template:tplComponentSlider,ui:true,slides:true},_compSliderNav:{template:tplComponentSliderNav,ui:true,slides:false},_compCSSBox:{template:tplComponentCSSBox,ui:true,slides:false},_compSimpleText:{template:tplComponentSimpleText,ui:true,slides:false},_compRichText:{template:tplComponentRichText,ui:true,slides:false},_compImage:{template:tplComponentImage,ui:true,slides:false},_compAnimatedGIF:{template:tplComponentAnimatedGIF,ui:true,slides:false},_compAudioClip:{template:tplComponentAudioClip,ui:false,slides:false},_compComparer:{template:tplComponentComparer,ui:true,slides:true,slidesWidth:780,slidesHeight:460},_compActivity:{template:tplComponentActivity,ui:true,slides:false}};function executeDOScript(f,c,a){if(a==null||a.trim()==""){return}var b=doInterpreter.newEnv();b.__do_component=f.id;b.__do_event=c;b["this"]=f;b.rootSlider=mainSlider;if(f.parent!=null){b.parent=f.parent}if(f.parent.parent!=null&&f.parent.parent instanceof UIRetardedSlide){b.slider=f.parent.parent}try{doInterpreter.run(a,b)}catch(d){if(d instanceof Error){DOError(b,d.toString())}else{DOError(b,"Error interno")}}}function executeScript(c,b,a,d){if(typeof d==="undefined"){d="DO"}switch(d){case"DO":executeDOScript(c,b,a);break}}function DOError(a,b){alert("Error en script DO:\n\n- Componente: "+a.__do_component+"\n- Evento: "+a.__do_event+"\n- Error: "+b)}function DOGetPathToObject(c,e){if(e instanceof pppUI.UIObject){return e}if(typeof e!="string"){return null}var a=c.parent;var d=e.split(".");var b=0;while(b<d.length){if(d[b]=="parent"){a=a.parent;if(a==null){return null}}else{a=a.getChildById(d[b]);if(a==null){return null}}b++}return a}function initDO(a){a.topEnv.uiobject_set=function(d,c,f,e){var b=DOGetPathToObject(d,c);if(b!=null){switch(f){case"x":case"y":case"width":case"height":case"alpha":case"visible":case"enabled":b[f]=e;break;default:if(b[f]!=undefined){b[f]=e}else{DOError(d,"uiobject_set: la propiedad especificada '"+f+"' no existe")}break}}else{DOError(d,"uiobject_set: El objeto '"+c+"' no existe")}};a.topEnv.uiobject_get=function(d,c,e){var b=DOGetPathToObject(d,c);if(b!=null){switch(e){case"x":case"y":case"width":case"height":case"alpha":case"visible":case"enabled":return b[e];default:if(b[e]!=undefined){return b[e]}else{DOError(d,"uiobject_get: la propiedad especificada '"+e+"' no existe")}}}else{DOError(d,"uiobject_get: El objeto '"+c+"' no existe")}};a.topEnv.uiobject_fadeIn=function(d,c,e,f){var b=DOGetPathToObject(d,c);if(e==undefined||e==null||parseInt(e)==0){e=500}if(f==undefined){f=null}if(b!=null){b.fadeIn(e,f)}else{DOError(d,"uiobject_fadeIn: El objeto '"+c+"' no existe")}};a.topEnv.uiobject_fadeOut=function(d,c,e,f){var b=DOGetPathToObject(d,c);if(e==undefined||e==null||parseInt(e)==0){e=500}if(f==undefined){f=null}if(b!=null){b.fadeOut(e,f)}else{DOError(d,"uiobject_fadeOut: El objeto '"+c+"' no existe")}};a.topEnv.uiobject_animate=function(f,e,d,g,h){var c=DOGetPathToObject(f,e);if(d==undefined||d==null){return}if(g==undefined||g==null||parseInt(g)==0){g=500}if(h==undefined){h=null}try{d=JSON.parse(d)}catch(b){DOError(f,"uiobject_animate: Las propiedades no tienen formato JSON");return}if(c!=null){c.animate(d,g,h)}else{DOError(f,"uiobject_animate: El objeto '"+e+"' no existe")}};a.topEnv.uiobject_start=function(d,c){if(c==null||c==undefined){DOError(d,"uiobject_start: No has especificado ningún identificador de objeto");return}var b=DOGetPathToObject(d,c);if(b==null){DOError(d,"uiobject_start: El objeto '"+c+"' no existe");return}if(b instanceof pppUI.UIMediaAudioClip){var e=b;e.pause();e.rewind();e.play()}else{if(b instanceof pppUI.UIAnimatedGIF){var f=b;f.play()}}};a.topEnv.uiobject_play=function(d,c){if(c==null||c==undefined){DOError(d,"uiobject_play: No has especificado ningún identificador de objeto");return}var b=DOGetPathToObject(d,c);if(b==null){DOError(d,"uiobject_play: El objeto '"+c+"' no existe");return}if(b instanceof pppUI.UIMediaAudioClip){var e=b;e.play()}else{if(b instanceof pppUI.UIAnimatedGIF){var f=b;f.play()}}};a.topEnv.uiobject_pause=function(d,c){if(c==null||c==undefined){DOError(d,"uiobject_pause: No has especificado ningún identificador de objeto");return}var b=DOGetPathToObject(d,c);if(b==null){DOError(d,"uiobject_stop: El objeto '"+c+"' no existe");return}if(b instanceof pppUI.UIMediaAudioClip){var e=b;e.pause()}};a.topEnv.uiobject_rewind=function(d,c){if(c==null||c==undefined){DOError(d,"uiobject_rewind: No has especificado ningún identificador de objeto");return}var b=DOGetPathToObject(d,c);if(b==null){DOError(d,"uiobject_stop: El objeto '"+c+"' no existe");return}if(b instanceof pppUI.UIMediaAudioClip){var e=b;e.rewind()}else{if(b instanceof pppUI.UIAnimatedGIF){var f=b;f.stop()}}};a.topEnv.uiobject_stop=function(d,c){if(c==null||c==undefined){DOError(d,"uiobject_stop: No has especificado ningún identificador de objeto");return}var b=DOGetPathToObject(d,c);if(b==null){DOError(d,"uiobject_stop: El objeto '"+c+"' no existe");return}if(b instanceof pppUI.UIMediaAudioClip){var e=b;e.pause();e.rewind()}else{if(b instanceof pppUI.UIAnimatedGIF){var f=b;f.stop()}}};a.topEnv.audio_play=function(c,b){var e=c.parent;if(b==null||b==undefined){DOError(c,"audio_play: No has especificado ningún identificador de audio");return}var d=DOGetPathToObject(c,b);if(d==null){DOError(c,"audio_play: el audio especificado '"+b+"' no existe")}else{d.pause();d.rewind();d.play()}};a.topEnv.audio_stop=function(c,b){var e=c.parent;if(b==null||b==undefined){DOError(c,"audio_play: No has especificado ningún identificador de audio");return}var d=DOGetPathToObject(c,b);if(d==null){DOError(c,"audio_play: el audio especificado '"+b+"' no existe")}else{d.pause();d.rewind()}};a.topEnv.anim_play=function(c,g,f){var d=null;var b="";if(f==undefined||f==null){d=c.parent;b=g}else{d=DOGetPathToObject(c,g);b=f}if(d!=null&&d instanceof UIRetardedSlide&&b!=""){var e=d.getAnim(b);if(e!=null){pppUI.UIObject.timeline.playAnim(d,e,true,false,null)}else{DOError(c,"anim_play: la animación especificada '"+b+"' no existe")}}else{if(d!=null&&d instanceof UIRetardedPopup&&b!=""){var e=d.getAnim(b);if(e!=null){pppUI.UIObject.timeline.playAnim(d,e,true,false,null)}else{DOError(c,"anim_play: no existe la animación '"+b+"' no existe")}}else{DOError(c,"anim_play: error en los parámetros especificados: '"+g+((f==undefined)?"'":"' y '"+f+"'"))}}};a.topEnv.popup_open=function(f,h){if(popupsData.hasOwnProperty(h)==false){DOError(f,"popup_open: no existe el popup '"+h+"'");return}var b=popupsData[h];var d=new UIRetardedPopup(b);stage.openPopup(d);var c=f.parent;if(c!=null){for(var e=0;e<c.children.length;e++){if(c.children[e] instanceof pppUI.UIMediaAudioClip){var g=c.children[e];g.pause();g.rewind()}}}};a.topEnv.popup_close=function(b){stage.closePopup()};a.topEnv.uiobject_create=function(d,e){var f;try{f=JSON.parse(e);if(f.hasOwnProperty("_type")==false||tplComponents.hasOwnProperty(f._type)==false){DOError(d,"uiobject_create: tipo de uiobject no reconocido");return}var c=tplComponents[f._type].template;if(c!=null){c.restoreComponent(d.parent,f)}}catch(b){DOError(d,"uiobject_create: error en formato JSON")}}}var documentStyles;var pantallasData=new Array();var popupsData=new Object();var doInterpreter=new DOInterpreter(initDO);function fillInContainer(c,m){var g;if(m.hasOwnProperty("data_components")){var j=m.data_components;for(g=0;g<j.length;g++){var o=j[g];var b=tplComponents[o._type].template;b.restoreComponent(c,o)}}if(m.hasOwnProperty("sliders")){for(var l in m.sliders){var k=c.getChildById(l);if(k instanceof pppUI.UISlider){var f=c.getChildById(l);for(g=0;g<m.sliders[l].length;g++){var h=new UIRetardedSlide(m.sliders[l][g]);f.addSlide(h)}}}}for(g=0;g<c.children.length;g++){var n=c.children[g];if(n.hasOwnProperty("sliderId")){var a=c.children[g];var e=a.sliderId;var d=c.getChildById(e);if(d!=null){a.slider=d;d.navigator=a;a.updateButtons(d)}}}}function fillInSlide(a,b){a.extra._jsNode=b;fillInContainer(a,b)}function fillInPopup(a,b){a.extra._jsNode=b;fillInContainer(a,b)}var UIRetardedSlide=(function(b){__extends(a,b);function a(c){b.call(this,c.data_id);this.jsData=c}a.prototype.doPrepare=function(){fillInContainer(this,this.jsData);b.prototype.doPrepare.call(this);if(this.jsData.data_anims.hasOwnProperty("Entrada")){var d=this.jsData.data_anims["Entrada"];if(d.trim()!=""&&d.trim()!="{}"){var g=JSON.parse(d);pppUI.UIObject.timeline.applyAnimInitialStates(this,g)}}for(var e=0;e<this.children.length;e++){if(this.children[e] instanceof pppUI.UISlider){var f=this.children[e];if(f.count>0){var c=f.slides[f.current];c.doPrepare()}}}if(this.jsData.hasOwnProperty("data_onPrepare")&&this.jsData.data_onPrepare!=""){executeScript(this,"onPrepare",this.jsData.data_onPrepare)}if(window.hasOwnProperty("MathJax")){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}};a.prototype.doShown=function(){var f=false;var g=b.prototype.doShown;var l=this.getAnim("Entrada");if(l!=null){var c=this;setTimeout(function(){pppUI.UIObject.timeline.playAnim(c,l,true,false,function(){g.call(this)})},10)}else{b.prototype.doShown.call(this)}for(var j=0;j<this.children.length;j++){if(this.children[j] instanceof pppUI.UISlider){var d=this.children[j];if(d.count>0){var k=d.slides[d.current];k.doShown()}}else{if(this.children[j] instanceof pppUI.UIMediaAudioClip){var h=this.children[j];if(h.extra.autoplay==true){h.play()}}else{if(this.children[j] instanceof pppUI.UIAnimatedGIF){var e=this.children[j];if(e.extra.autoplay==true){e.play()}}}}}if(this.jsData.hasOwnProperty("data_onShown")&&this.jsData.data_onShown!=""){executeScript(this,"onShown",this.jsData.data_onShown)}for(var j=0;j<this.children.length;j++){if(this.children[j] instanceof pppUI.UIRichText){pppUI.Utils.showScrollMarker(this.children[j],true)}}};a.prototype.doLeave=function(){for(var c=0;c<this.children.length;c++){if(this.children[c] instanceof pppUI.UIMediaAudioClip){var d=this.children[c];d.pause();d.rewind()}}b.prototype.doLeave.call(this);this.removeAllChildren()};a.prototype.getAnim=function(d){if(this.jsData.data_anims.hasOwnProperty(d)){var c=this.jsData.data_anims[d];if(c.trim()!=""&&c.trim()!="{}"){return JSON.parse(c)}}return null};return a})(pppUI.UISlide);var UIRetardedPopup=(function(b){__extends(a,b);function a(c){b.call(this,c.data_id,"",false);this.deleteOnClose=true;this.jsData=c}a.prototype.doPrepare=function(){b.prototype.doPrepare.call(this);this.container=new pppUI.UIObject("container");this.container.position={x:0,y:0,width:pppUI.UIStage.DP_WIDTH,height:pppUI.UIStage.DP_HEIGHT};this.addChild(this.container);fillInContainer(this.container,this.jsData);b.prototype.doPrepare.call(this);if(this.jsData.data_anims.hasOwnProperty("Entrada")){var d=this.jsData.data_anims["Entrada"];if(d.trim()!=""&&d.trim()!="{}"){var g=JSON.parse(d);pppUI.UIObject.timeline.applyAnimInitialStates(this.container,g)}}for(var e=0;e<this.container.children.length;e++){if(this.container.children[e] instanceof pppUI.UISlider){var f=this.container.children[e];if(f.count>0){var c=f.slides[f.current];c.doPrepare()}}}if(this.jsData.hasOwnProperty("data_onPrepare")&&this.jsData.data_onPrepare!=""){executeScript(this.container,"onPrepare",this.jsData.data_onPrepare)}if(window.hasOwnProperty("MathJax")){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}};a.prototype.doShown=function(){b.prototype.doShown.call(this);var f=false;var g=b.prototype.doShown;var l=this.getAnim("Entrada");if(l!=null){var c=this;setTimeout(function(){pppUI.UIObject.timeline.playAnim(c.container,l,true,false,function(){g.call(this.container)})},10)}else{b.prototype.doShown.call(this)}for(var j=0;j<this.container.children.length;j++){if(this.container.children[j] instanceof pppUI.UISlider){var d=this.container.children[j];if(d.count>0){var k=d.slides[d.current];k.doShown()}}else{if(this.container.children[j] instanceof pppUI.UIMediaAudioClip){var h=this.container.children[j];if(h.extra.autoplay==true){h.rewind();h.play()}}else{if(this.container.children[j] instanceof pppUI.UIAnimatedGIF){var e=this.container.children[j];if(e.extra.autoplay==true){e.play()}}}}}if(this.jsData.hasOwnProperty("data_onShown")&&this.jsData.data_onShown!=""){executeScript(this.container,"onShown",this.jsData.data_onShown)}};a.prototype.doLeave=function(){b.prototype.doLeave.call(this);for(var c=0;c<this.container.children.length;c++){if(this.container.children[c] instanceof pppUI.UIMediaAudioClip){var d=this.container.children[c];d.pause();d.rewind()}}this.container.removeAllChildren();this.removeAllChildren()};a.prototype.getAnim=function(d){if(this.jsData.data_anims.hasOwnProperty(d)){var c=this.jsData.data_anims[d];if(c.trim()!=""&&c.trim()!="{}"){return JSON.parse(c)}}return null};return a})(pppUI.UIPopup);function loadPantalla(o,b,v){var u;o.data_id=v;o.data_components=new Array();var h=$(b).children("components").children("component");if(h.length>0){for(u=0;u<h.length;u++){var l=h[u];var p=l.getAttribute("_type")||"";if(p!=""){var c=new Object();var m=tplComponents[p].template;m.jsDataFromXML(l,c);o.data_components.push(c)}}}o.data_anims=new Object();var n=$(b).children("animaciones").children("anim");if(n.length>0){for(u=0;u<n.length;u++){var s=n[u];var g=s.getAttribute("id");var d=$(s).text();o.data_anims[g]=d}}o.data_onPrepare=$($(b).find("event[id='onPrepare']")[0]).text();o.data_onShown=$($(b).find("event[id='onShown']")[0]).text();o.sliders=new Object();var e=$(b).children("slider");if(e.length>0){for(u=0;u<e.length;u++){var r=e[u];var f=r.getAttribute("id");o.sliders[f]=new Array();var k=$(r).children("pantalla");for(var t=0;t<k.length;t++){var a=k[t];var q=new Object();loadPantalla(q,a,a.getAttribute("id"));o.sliders[f].push(q)}}}}function loadPrincipal(m){var g=$(m).children("css");if(g!=null&&g.length>0){documentStyles.innerHTML=g.text()}var d=$(m).children("pantallas");var c=$(d).children("pantalla");for(var e=0;e<c.length;e++){var j=c[e];var l=j.getAttribute("id");var h=new Object();loadPantalla(h,j,l);pantallasData.push(h)}var n=$(m).children("popups");var f=$(n).children("pantalla");for(var e=0;e<f.length;e++){var b=f[e];var a=b.getAttribute("id");var k=new Object();loadPantalla(k,b,a);popupsData[a]=k}}function main(b){documentStyles=document.createElement("style");documentStyles.type="text/css";document.getElementsByTagName("head")[0].appendChild(documentStyles);pppUI.UIImageButton.NO_IMAGE="motor/images/_noimage.png";pppUI.UIImage.NO_IMAGE="motor/images/_noimage.png";var a=true;if(window.hasOwnProperty("pppUIScaled")){a=window.pppUIScaled}stage=new pppUI.UIStage("__stage","diaporama_container",a,false,function(g){var h=$(b).children("engine")[0];g.addClass("mainBk");loadPrincipal(h);mainSlider=new pppUI.UISlider("main");mainSlider.position={x:0,y:0,width:g.width,height:g.height};mainSlider.transMode=pppUI.UISlider.TRANS_NONE;g.addChild(mainSlider);for(var f=0;f<pantallasData.length;f++){var e=pantallasData[f];var c=new UIRetardedSlide(pantallasData[f]);mainSlider.addSlide(c)}var d=new pppUI.UIObject("watermark");d.addClass("watermark");d.position=WATERMARK_POS;g.addChild(d);if(window.hasOwnProperty("MathJax")){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}FUtils.preloadImages(function(i){pppSpinner.hide();setTimeout(function(){mainSlider.current=0},10)})})};