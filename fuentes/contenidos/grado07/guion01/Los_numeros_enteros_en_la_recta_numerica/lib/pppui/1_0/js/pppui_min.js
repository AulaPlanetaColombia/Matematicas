/* VERSION : 15.2.26.1 */ 
var pppUI;(function(b){var d=(function(){function i(){}i.ANIM_TO=0;i.ANIM_APPLY=1;i.ANIM_SCRIPT=2;i.ANIM_CALL=3;return i})();b.TimelineHito=d;var h=(function(){function i(j,l,k){this.startTime=0;this.endTime=0;this.time=0;this.name=j;this.target=l;this.timeline=k}i.prototype.to=function(k,l,m,o,n){if(typeof k==="undefined"){k=0}if(typeof l==="undefined"){l={}}if(typeof m==="undefined"){m=1}if(typeof o==="undefined"){o=c.Easing.Linear.EaseNone}if(typeof n==="undefined"){n=null}for(var j in l){this.timeline.anims.push({type:d.ANIM_TO,autoCancel:this.autoCancel,timeline:this.timeline,targetName:this.name,target:this.target,propertyName:j,endValue:l[j],delay:k,startTime:this.timeline.time+k+this.endTime,endTime:this.timeline.time+k+this.endTime+m,easing:o,callback:n})}this.endTime+=k+m;return this};i.prototype.script=function(k,j){if(typeof k==="undefined"){k=0}if(typeof j==="undefined"){j=""}var l=0;this.timeline.anims.push({type:d.ANIM_SCRIPT,autoCancel:this.autoCancel,timeline:this.timeline,targetName:this.name,target:this.target,propertyName:"script",endValue:j,delay:k,startTime:this.timeline.time+k+this.endTime,endTime:this.timeline.time+k+this.endTime+l,easing:null,callback:null});this.endTime+=k+l;return this};i.prototype.call=function(k,j){if(typeof k==="undefined"){k=0}if(typeof j==="undefined"){j=null}var l=0;this.timeline.anims.push({type:d.ANIM_CALL,autoCancel:this.autoCancel,timeline:this.timeline,targetName:this.name,target:this.target,propertyName:"call",endValue:j,delay:k,startTime:this.timeline.time+k+this.endTime,endTime:this.timeline.time+k+this.endTime+l,easing:null,callback:null});this.endTime+=k+l;return this};i.prototype.apply=function(){};return i})();b.TimelineAnim=h;var g=(function(){function i(){}return i})();var c=(function(){function i(){this.tickerId=null;this.trackNameCounter=0;this.applyValues=function(){var k;var n=[];for(k=0;k<this.anims.length;k++){var m=this.anims[k];if(this.time<m.startTime){continue}if(m.type==d.ANIM_TO){if(this.prevTime<=m.startTime&&m.startTime<=this.time){m.startValue=m.target[m.propertyName]}if(this.prevTime<=m.endTime&&m.endTime<=this.time){m.target[m.propertyName]=m.endValue;if(m.autoCancel){n.push(m)}if(m.callback!=null){m.callback()}continue}if(m.endTime-m.startTime==0){continue}var j=(this.time-m.startTime)/(m.endTime-m.startTime);j=m.easing(j);j=Math.max(0,Math.min(j,1));m.target[m.propertyName]=m.startValue+(m.endValue-m.startValue)*j}else{if(m.type==d.ANIM_APPLY){if(this.prevTime<=m.endTime&&m.endTime<=this.time){m.target[m.propertyName]=m.endValue;if(m.autoCancel){n.push(m)}if(m.callback!=null){m.callback()}continue}}else{if(m.type==d.ANIM_SCRIPT){if(this.prevTime<=m.endTime&&m.endTime<=this.time){if(i.executeScript!=null){i.executeScript(m.target,m.endValue)}if(m.autoCancel){n.push(m)}continue}}else{if(m.type==d.ANIM_CALL){if(this.prevTime<=m.endTime&&m.endTime<=this.time){if(m.endValue!=null){var l=m.endValue;if(l!=null){l()}}if(m.autoCancel){n.push(m)}continue}}}}}}if(n.length>0){for(k=0;k<n.length;k++){this.anims.splice(this.anims.indexOf(n[k]),1)}}};this.refresh=function(){for(var k=0;k<this.anims.length;k++){var l=this.anims[k];if(this.time<l.startTime){continue}if(this.prevTime<=l.startTime&&l.startTime<=this.time){l.startValue=l.target[l.propertyName]}if(this.prevTime<=l.endTime&&l.endTime<=this.time){l.target[l.propertyName]=l.endValue;continue}if(l.endTime-l.startTime==0){l.target[l.propertyName]=l.endValue;continue}var j=(this.time-l.startTime)/(l.endTime-l.startTime);j=l.easing(j);j=Math.max(0,Math.min(j,1));l.target[l.propertyName]=l.startValue+(l.endValue-l.startValue)*j}};this.id="Global";this.fps=60;this.anims=[];this.time=0;this.prevTime=0;this.totalTime=0;this.loopCount=0;this.playing=false;this.tickerId=null}i.prototype.destroy=function(){this.stopTicker();this.anims=null};i.prototype.startTicker=function(){var j=this;if(this.tickerId==null){this.tickerId=window.requestAnimationFrame(function(k){j.tick(k)})}};i.prototype.stopTicker=function(){};i.prototype.tick=function(j){this.update();this.tickerId=null;this.startTicker()};i.prototype.stop=function(){if(this.playing==true){this.playing=false;this.stopTicker()}this.time=0;this.prevTime=this.time-1/this.fps};i.prototype.pause=function(){if(this.playing==true){this.playing=false;this.stopTicker()}};i.prototype.play=function(){if(this.playing==false){this.startTicker();this.playing=true}};i.prototype.update=function(){if(this.playing){this.totalTime+=1/this.fps;this.prevTime=this.time;this.time+=1/this.fps}this.applyValues()};i.prototype.clear=function(){this.playing=false;this.stopTicker();this.anims=[];this.time=0;this.totalTime=0;this.prevTime=0;this.loopCount=0;this.update()};i.prototype.removeTarget=function(l){var k;var j=[];for(k=0;k<this.anims.length;k++){if(this.anims[k].target==l){j.push(this.anims[k])}}if(j.length>0){for(k=0;k<j.length;k++){this.anims.splice(this.anims.indexOf(j[k]),1)}}};i.prototype.removeTargetProperty=function(m,k){var l;var j=[];for(l=0;l<this.anims.length;l++){if(this.anims[l].target==m&&this.anims[l].propertyName==k){j.push(this.anims[l])}}if(j.length>0){for(l=0;l<j.length;l++){this.anims.splice(this.anims.indexOf(j[l]),1)}}};i.prototype.findAnimationEnd=function(){var j=0;for(var k=0;k<this.anims.length;k++){if(this.anims[k].endTime>j){j=this.anims[k].endTime}}return j};i.prototype.newAnim=function(j,l,m){if(typeof m==="undefined"){m=false}var k=new h(j,l,this);k.autoCancel=m;return k};i.prototype.playAnim=function(p,l,o,j,m){if(typeof o==="undefined"){o=true}if(typeof j==="undefined"){j=false}if(typeof m==="undefined"){m=null}var n=null;for(var A in l){var r=l[A];if(r.length>0){var s=A.split(".");if(s.length<2){continue}var k=s[0];var q=s[1];var z=p.getChildById(k);if(z==null){continue}var w=0;var x=z[q];var y=i.Easing.Linear.EaseNone;for(var v=0;v<r.length;v++){var t=r[v];var u={type:d.ANIM_TO,autoCancel:o,timeline:this,targetName:k,target:z,propertyName:q,endValue:t.value,delay:0,startTime:this.time+w,endTime:this.time+t.time,easing:y,callback:null};this.anims.push(u);w=t.time;x=t.value;y=i.stringToEasingFunction(t.easing);if(n!=null){if(n.endTime<u.endTime){n=u}}else{n=u}if(j&&t.time==0){z[q]=t.value}}}}if(n!=null&&m!=null){n.callback=m}this.play()};i.prototype.applyAnimInitialStates=function(j,q){for(var r in q){var k=q[r];if(k.length>0){var l=r.split(".");if(l.length<2){continue}var s=l[0];var o=l[1];var p=j.getChildById(s);if(p==null){continue}for(var m=0;m<k.length;m++){var n=k[m];if(n.time==0){p[o]=n.value}}}}};i.getGlobalInstance=function(){if(!i.globalInstance){i.globalInstance=new i()}return i.globalInstance};i.executeScript=null;i.easingMap={};i.easingFunctionToString=function(k){for(var j in i.easingMap){if(i.easingMap[j]==k){return j}}};i.stringToEasingFunction=function(j){return i.easingMap[j]};i.globalInstance=null;return i})();b.Timeline=c;c.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{},Swing:{}};c.Easing.Linear.EaseNone=function(i){return i};c.Easing.Quadratic.EaseIn=function(i){return i*i};c.Easing.Quadratic.EaseOut=function(i){return -i*(i-2)};c.Easing.Quadratic.EaseInOut=function(i){if((i*=2)<1){return 0.5*i*i}return -0.5*(--i*(i-2)-1)};c.Easing.Cubic.EaseIn=function(i){return i*i*i};c.Easing.Cubic.EaseOut=function(i){return --i*i*i+1};c.Easing.Cubic.EaseInOut=function(i){if((i*=2)<1){return 0.5*i*i*i}return 0.5*((i-=2)*i*i+2)};c.Easing.Elastic.EaseIn=function(j){var l,i=0.1,m=0.4;if(j==0){return 0}if(j==1){return 1}if(!m){m=0.3}if(!i||i<1){i=1;l=m/4}else{l=m/(2*Math.PI)*Math.asin(1/i)}return -(i*Math.pow(2,10*(j-=1))*Math.sin((j-l)*(2*Math.PI)/m))};c.Easing.Elastic.EaseOut=function(j){var l,i=0.1,m=0.4;if(j==0){return 0}if(j==1){return 1}if(!m){m=0.3}if(!i||i<1){i=1;l=m/4}else{l=m/(2*Math.PI)*Math.asin(1/i)}return(i*Math.pow(2,-10*j)*Math.sin((j-l)*(2*Math.PI)/m)+1)};c.Easing.Elastic.EaseInOut=function(j){var l,i=0.1,m=0.4;if(j==0){return 0}if(j==1){return 1}if(!m){m=0.3}if(!i||i<1){i=1;l=m/4}else{l=m/(2*Math.PI)*Math.asin(1/i)}if((j*=2)<1){return -0.5*(i*Math.pow(2,10*(j-=1))*Math.sin((j-l)*(2*Math.PI)/m))}return i*Math.pow(2,-10*(j-=1))*Math.sin((j-l)*(2*Math.PI)/m)*0.5+1};c.Easing.Back.EaseIn=function(i){var j=1.70158;return i*i*((j+1)*i-j)};c.Easing.Back.EaseOut=function(i){var j=1.70158;return(i=i-1)*i*((j+1)*i+j)+1};c.Easing.Back.EaseInOut=function(i){var j=1.70158*1.525;if((i*=2)<1){return 0.5*(i*i*((j+1)*i-j))}return 0.5*((i-=2)*i*((j+1)*i+j)+2)};c.Easing.Bounce.EaseIn=function(i){return 1-c.Easing.Bounce.EaseOut(1-i)};c.Easing.Bounce.EaseOut=function(i){if((i/=1)<(1/2.75)){return 7.5625*i*i}else{if(i<(2/2.75)){return 7.5625*(i-=(1.5/2.75))*i+0.75}else{if(i<(2.5/2.75)){return 7.5625*(i-=(2.25/2.75))*i+0.9375}else{return 7.5625*(i-=(2.625/2.75))*i+0.984375}}}};c.Easing.Bounce.EaseInOut=function(i){if(i<0.5){return c.Easing.Bounce.EaseIn(i*2)*0.5}return c.Easing.Bounce.EaseOut(i*2-1)*0.5+0.5};c.Easing.Swing.Swing=function(i){return 0.5-Math.cos(i*Math.PI)/2};for(var f in c.Easing){var a=c.Easing[f];for(var e in a){c.easingMap[f+"."+e]=a[e]}}(function(){var j=0;var k=["webkit","moz"];for(var i=0;i<k.length&&!window.requestAnimationFrame;++i){window.requestAnimationFrame=window[k[i]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[k[i]+"CancelAnimationFrame"]||window[k[i]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(o){var l=new Date().getTime();var m=Math.max(0,16-(l-j));var n=window.setTimeout(function(){o(l+m)},m);j=l+m;return n}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(l){clearTimeout(l)}}}())})(pppUI||(pppUI={}));var pppUI;(function(b){var a=(function(){function c(e){this.editable=true;this.parent=null;this.cssClass="";this.dontNotify=false;this.extra=new Object();this.onChildAutoSized=null;var d=null;this.id=e;this.isVisible=true;this.isEnabled=true;this.noUI=false;this.positionCache={x:0,y:0,width:0,height:0};this.scaleCache={x:1,y:1};this.editVisible=true;this.editEnabled=true;this.stage=null;this.parent=null;this.children=new Array();this.$DOMItem=$("<div>",{id:this.id,"class":"uiobject"});this.DOMItem=this.$DOMItem[0];this.DOMItem[c.DOM_TO_UIOBJECT_PROP]=this;this.$DOMItem.css({"transform-origin":"0 0","-webkit-transform-origin":"0 0"});this.DOMItem.addEventListener("contextmenu",function(f){f.preventDefault();return false})}Object.defineProperty(c.prototype,"x",{get:function(){return this.positionCache.x},set:function(d){if(this.positionCache.x!=d&&this.onMoving(d,this.y)){this.DOMItem.style.left=d.toString()+"px";this.positionCache.x=d;if(!this.dontNotify){this.onMove()}}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"y",{get:function(){return this.positionCache.y},set:function(d){if(this.positionCache.y!=d&&this.onMoving(this.x,d)){this.DOMItem.style.top=d.toString()+"px";this.positionCache.y=d;if(!this.dontNotify){this.onMove()}}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"width",{get:function(){return this.positionCache.width},set:function(d){if(this.positionCache.width!=d&&this.onResizing(d,this.height)){this.DOMItem.style.width=d.toString()+"px";this.positionCache.width=d;if(!this.dontNotify){this.onResize()}}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"height",{get:function(){return this.positionCache.height},set:function(d){if(this.positionCache.height!=d&&this.onResizing(this.width,d)){this.DOMItem.style.height=d.toString()+"px";this.positionCache.height=d;if(!this.dontNotify){this.onResize()}}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"position",{get:function(){return{x:this.positionCache.x,y:this.positionCache.y,width:this.positionCache.width,height:this.positionCache.height}},set:function(d){var e=this.position;if(d.x!=e.x||d.y!=e.y){this.DOMItem.style.left=d.x.toString()+"px";this.DOMItem.style.top=d.y.toString()+"px";this.positionCache.x=d.x;this.positionCache.y=d.y;if(!this.dontNotify){this.onMove()}}if(d.width!=e.width||d.height!=e.height&&this.onResizing(d.width,d.height)){this.DOMItem.style.width=d.width.toString()+"px";this.DOMItem.style.height=d.height.toString()+"px";this.positionCache.width=d.width;this.positionCache.height=d.height;if(!this.dontNotify){this.onResize()}}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"alpha",{get:function(){return parseFloat(getComputedStyle(this.DOMItem).opacity)},set:function(d){if(d<0){d=0}if(d>1){d=1}this.DOMItem.style.opacity=d.toString()},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"enabled",{get:function(){if(c.editMode){return this.editEnabled}else{return this.isEnabled}},set:function(d){if(c.editMode){this.editEnabled=d;if(this.editEnabled==true){this.$DOMItem.removeClass("disabled")}else{this.$DOMItem.addClass("disabled")}}else{if(this.isEnabled==d){return}this.isEnabled=d;if(this.isEnabled==true){this.$DOMItem.removeClass("disabled");this.enableEvents()}else{this.$DOMItem.addClass("disabled");this.disableEvents()}if(!this.dontNotify){this.onEnable()}}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"globalEnabled",{get:function(){var d=this;while(d.parent!=null){if(d.enabled==false){return false}d=d.parent}return true},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"visible",{get:function(){if(c.editMode){return this.editVisible}else{return this.isVisible}},set:function(d){if(c.editMode){this.editVisible=d}else{if(this.isVisible==d){return}if(d==false){this.$DOMItem.hide();this.isVisible=false}else{this.$DOMItem.show();this.isVisible=true}if(!this.dontNotify){this.onVisible();this.propagateParentVisible(this)}}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"globalVisible",{get:function(){var d=this;while(d.parent!=null){if(d.visible==false){return false}d=d.parent}return true},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"globalPosition",{get:function(){if(this.stage==null){return{x:0,y:0,width:0,height:0}}var e={x:this.positionCache.x,y:this.positionCache.y,width:Math.round(this.positionCache.width*this.stage.scale),height:Math.round(this.positionCache.height*this.stage.scale)};var d=this;while(d.parent!=null){e.x+=this.parent.x;e.y+=this.parent.y;d=d.parent}e.x=Math.round(e.x*this.stage.scale);e.y=Math.round(e.y*this.stage.scale);var f=this.stage.stageDivPosition;e.x+=f.x;e.y+=f.y;return e},enumerable:true,configurable:true});c.prototype.forceEnabled=function(d){if(this.isEnabled==d){return}this.isEnabled=d;if(this.isEnabled==true){this.$DOMItem.removeClass("disabled");this.enableEvents()}else{this.$DOMItem.addClass("disabled");this.disableEvents()}};c.prototype.forceVisible=function(d){if(this.visible==d){return}if(d==false){this.$DOMItem.hide()}else{this.$DOMItem.show()}};Object.defineProperty(c.prototype,"scaleX",{get:function(){return this.scaleCache.x},set:function(d){if(this.scaleCache.x!=d){this.scaleCache.x=d;this.$DOMItem.css({transform:"scale("+this.scaleCache.x+", "+this.scaleCache.y+")",WebkitTransform:"scale("+this.scaleCache.x+", "+this.scaleCache.y+")"})}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"scaleY",{get:function(){return this.scaleCache.y},set:function(d){if(this.scaleCache.y!=d){this.scaleCache.y=d;this.$DOMItem.css({transform:"scale("+this.scaleCache.x+", "+this.scaleCache.y+")",WebkitTransform:"scale("+this.scaleCache.x+", "+this.scaleCache.y+")"})}},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"scaledWidth",{get:function(){return this.positionCache.width*this.scaleCache.x},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"scaledHeight",{get:function(){return this.positionCache.height*this.scaleCache.y},enumerable:true,configurable:true});c.prototype.setAllContent=function(d){this.$DOMItem.html(d)};c.prototype.getAllContent=function(){return this.$DOMItem.html()};c.prototype.setContent=function(d){this.setAllContent(d)};c.prototype.getContent=function(){return this.getAllContent()};c.prototype.addClass=function(d){if(d!=null&&d!=""){this.$DOMItem.addClass(d)}};c.prototype.getClass=function(){return this.cssClass};c.prototype.setCSSClass=function(d){if(this.cssClass==d){return}if(this.cssClass!=null&&this.cssClass!=""){this.$DOMItem.removeClass(this.cssClass)}this.cssClass=d;if(this.cssClass!=null&&this.cssClass!=""){this.$DOMItem.addClass(this.cssClass)}};c.prototype.getCSSClass=function(){return this.cssClass};c.prototype.addChild=function(d){this.children.push(d);this.$DOMItem.append(d.DOMItem);d.parent=this;d.addToStage(this.stage)};c.prototype.addToStage=function(d){this.stage=d;if(!this.dontNotify){this.onAddedToStage()}for(var e=0;e<this.children.length;e++){this.children[e].addToStage(d)}};c.prototype.getChildById=function(e){for(var d=0;d<this.children.length;d++){if(this.children[d].id===e){return this.children[d]}}return null};c.prototype.removeChild=function(f){for(var d=0;d<this.children.length;d++){var e=this.children[d];if(e.id===f){c.timeline.removeTarget(e);e.removeAllChildren();if(!e.dontNotify){e.onRemovedFromStage()}this.children.splice(d,1);e.$DOMItem.remove()}}};c.prototype.remove=function(){if(this.parent!=null){this.parent.removeChild(this.id)}};c.prototype.removeAllChildren=function(){var d=this.children.slice(0);for(var e=0;e<d.length;e++){var f=d[e];this.removeChild(f.id)}this.children=new Array();this.$DOMItem.empty()};c.prototype.bringToFront=function(){this.$DOMItem.appendTo(this.parent.$DOMItem);var d=0;for(d=0;d<this.parent.children.length;d++){if(this.parent.children[d]==this){break}}this.parent.children.splice(d,1);this.parent.children.push(this)};c.prototype.sendToBack=function(){this.$DOMItem.prependTo(this.parent.$DOMItem);var d=0;for(d=0;d<this.parent.children.length;d++){if(this.parent.children[d]==this){break}}this.parent.children.splice(d,1);this.parent.children.unshift(this)};c.prototype.disableEvents=function(){this.$DOMItem.css("pointer-events","none")};c.prototype.enableEvents=function(){this.$DOMItem.css("pointer-events","auto")};c.prototype.noEvents=function(d){if(d.stopPropagation!=null){d.stopPropagation()}else{if(d.cancelBubble!=null){d.cancelBubble=true}}};c.prototype.propagateParentVisible=function(e){for(var d=0;d<this.children.length;d++){this.children[d].onParentVisible(e);this.children[d].propagateParentVisible(e)}};c.prototype.propagateParentEnable=function(e){for(var d=0;d<this.children.length;d++){this.children[d].onParentEnable(e);this.children[d].propagateParentEnable(e)}};c.prototype.propagateChildAutoSized=function(d){if(this.onChildAutoSized!=null){this.onChildAutoSized(d)}};c.prototype.propagateAutoSized=function(){if(this.parent!=null){this.parent.propagateChildAutoSized(this)}};c.prototype.fadeIn=function(f,d){if(typeof d==="undefined"){d=null}f=f/1000;c.timeline.removeTargetProperty(this,"alpha");var e=this;if(e.visible==false){e.visible=true;e.propagateParentVisible(e)}e.alpha=0;c.timeline.newAnim(this.id,this,true).to(0,{alpha:1},f,b.Timeline.Easing.Swing.Swing,function(){if(d!=null){d()}});if(c.timeline.playing==false){c.timeline.play()}};c.prototype.fadeOut=function(f,d){if(typeof d==="undefined"){d=null}f=f/1000;c.timeline.removeTargetProperty(this,"alpha");var e=this;c.timeline.newAnim(this.id,this,true).to(0,{alpha:0},f,b.Timeline.Easing.Swing.Swing,function(){if(e.alpha==0&&e.visible==true){e.visible=false;e.alpha=1;e.propagateParentVisible(e)}if(d!=null){d()}});if(c.timeline.playing==false){c.timeline.play()}};c.prototype.animate=function(f,h,d){h=h/1000;for(var e in f){c.timeline.removeTargetProperty(this,e)}var g=this;c.timeline.newAnim(this.id,this,true).to(0,f,h,b.Timeline.Easing.Swing.Swing,function(){g.propagateParentVisible(g);if(d!=null){d()}});if(c.timeline.playing==false){c.timeline.play()}};c.prototype.autoHeight=function(f){if(typeof f==="undefined"){f=-1}this.DOMItem.style.height="";this.positionCache.height=0;var g=this.$DOMItem.clone().attr("style","position: absolute !important; top: -2000 !important; width: "+this.width+"px;").appendTo("body");var e=g[0];var d=e.offsetHeight;g.remove();if(d<f){d=f}this.height=d;return d};c.prototype.onResizing=function(e,d){return true};c.prototype.onResize=function(){};c.prototype.onMoving=function(e,d){return true};c.prototype.onMove=function(){};c.prototype.onVisible=function(){};c.prototype.onEnable=function(){};c.prototype.onParentVisible=function(d){};c.prototype.onParentEnable=function(d){};c.prototype.onStageScale=function(e){if(this.children!=null&&this.children.length>0){for(var d=0;d<this.children.length;d++){this.children[d].onStageScale(e)}}};c.prototype.onAddedToStage=function(){};c.prototype.onRemovedFromStage=function(){};c.DOM_TO_UIOBJECT_PROP="__UIObject";c.editMode=false;c.timeline=new b.Timeline();return c})();b.UIObject=a})(pppUI||(pppUI={}));var pppUI;(function(f){var e=(function(){function g(){}return g})();f.BrowserData=e;var d=(function(){function g(){}return g})();f.Point=d;var a=(function(){function g(){}return g})();f.Size=a;var c=(function(){function g(){}return g})();f.Rect=c;var b=(function(){function g(i,h,p,k,j,m,l){if(typeof m==="undefined"){m=-1}if(typeof l==="undefined"){l=-1}this.document=null;this.forEdit=false;this.autoScale=false;this.diapContainer=null;this._initialized=false;this.actionsReady=false;this._needPatch=false;this._heightChecked=false;this.stageWidth=g.DP_WIDTH;this.stageHeight=g.DP_HEIGHT;this.browser=new e();if(m!=-1){this.stageWidth=m}if(l!=-1){this.stageHeight=l}this.initBrowserData();if(this.browser.isIOS||this.browser.isAndroid){g.MARGIN_PERCENT=0.05}this.autoScale=p;this.forEdit=k;this.onReady=j;this.popups=new Object();this.popupStack=new Array();var n=null;if(i=="body"){n=document.body}else{n=document.getElementById(i)}if(!n){return}var o='<div class="html_diaporama cepda-diaporama">	<div class="diap_container">		<div class="dp_watermark">		</div>	</div></div>';$(n).append("<div id='"+h+"' style='width: 100%; height: 100%;'>"+o+"</div>");this.diapContainer=document.getElementById(h);this.initDContainer()}g.topZIndex=function(){g._lastZIndex++;return g._lastZIndex};Object.defineProperty(g.prototype,"scale",{get:function(){return this._scale},enumerable:true,configurable:true});g.prototype.changeSize=function(i,h){this.stageWidth=i;this.stageHeight=h;if(this.document!=null){this.document.stageSizeChanged(this)}this.reposition()};g.prototype.addChild=function(h){this.document.addChild(h)};Object.defineProperty(g.prototype,"stageDivPosition",{get:function(){var i=$(this.diapContainer);var j=i.find(".diap_container")[0];var h=j.getBoundingClientRect();return{x:h.left,y:h.top}},enumerable:true,configurable:true});g.prototype.registerPopup=function(h){this.popups[h.id]=h};g.prototype.openPopup=function(i){if(i==null){return}var h=null;if(i instanceof f.UIPopup){h=i}else{var j=i;if(this.popups.hasOwnProperty(j)){h=this.popups[j]}}if(h!=null){h.stage=this;this.popupStack.push(h);var k=$(this.diapContainer);var l=k.find(".diap_container")[0];$(l).append(h.DOMItem);h.$DOMItem.css("z-index",g.topZIndex().toString());h.doPrepare();h.visible=true;h.doShown()}};g.prototype.closePopup=function(){if(this.popupStack.length==0){return}var h=this.popupStack.pop();h.visible=false;h.doLeave();var i=$(this.diapContainer);var j=i.find(".diap_container")[0];if(h.deleteOnClose){h.$DOMItem.remove()}};g.prototype.initBrowserData=function(){var i;var h=navigator.userAgent.toLowerCase();this.browser.isMSIE=/msie|trident/.test(h);i=h.match(/(msie|trident)\s*(?:\/\s*)?(.[^;]*)/);if(i){this.browser.MSIEEngine=$.trim(i[1]);this.browser.MSIEVersion=parseFloat($.trim(i[2]))}else{this.browser.MSIEEngine="";this.browser.MSIEVersion=-1}this.browser.isIOS=(/iphone|ipad|ipod/i.test(h));this.browser.isAndroid=(/android/i.test(h));this.browser.isAndroidChrome=(/android/i.test(h))&&(/chrome/i.test(h));this.browser.isAndroidNativeBrowser=((h.indexOf("mozilla/5.0")>-1&&h.indexOf("android ")>-1&&h.indexOf("applewebkit")>-1)&&!(h.indexOf("chrome")>-1))};g.prototype.initDContainer=function(){if(this._initialized==true){return}this._aratio=g.DP_WIDTH/g.DP_HEIGHT;this._scale=1;this._heightChecked=false;this._needPatch=false;this._initialized=true;if(this.needContainerSizePatch()){this._needPatch=true}this.actionsReady=true;if(this.autoScale){var i=this;if(window.attachEvent){window.attachEvent("onresize",function(){i.onResizeEvent()})}else{if(window.addEventListener){window.addEventListener("resize",function(){i.onResizeEvent()},true)}}this.reposition()}if(this.forEdit){this.document=new f.UIEDDocument("__document",this)}else{this.document=new f.UIDocument("__document",this)}this.document.stage=this;this.document.parent=null;var h=$(this.diapContainer);var j=h.find(".diap_container")[0];$(j).append(this.document.DOMItem);if(this.onReady!=null){this.onReady(this.document)}};g.prototype.onResizeEvent=function(){if(this.browser.isIOS){var h=this;setTimeout(function(){h.reposition()},500)}else{this.reposition()}};g.prototype.reposition=function(){var m=$(this.diapContainer);var t=m.find(".diap_container")[0];if(t){var v=m.width();var s=m.height();if(this._needPatch){var r=this.patchContainerSize();s=r.y;if(this.browser.isIOS){v=r.x}}if(this.w!=v||this.h!=s){m.css("visibility","hidden");var l=parseInt($(t).css("border"))*2;if(isNaN(l)){l=0}var n=$(t).width()+l;var k=$(t).height()+l;var u=this.getScaledDimensions(v,s,t);var q=u.width;var j=u.height;var h=q/n;var w=j/k;var p=$(t);p.css("-ms-transform-origin","0 0");p.css("-ms-transform-origin-x","0px");p.css("-ms-transform-origin-y","0px");p.css("-webkit-transform-origin-x","0px");p.css("-webkit-transform-origin-y","0px");p.css("-moz-transform-origin-x","0px");p.css("-moz-transform-origin-y","0px");p.css("-o-transform-origin-x","0px");p.css("-o-transform-origin-y","0px");p.css("transform-origin-x","0px");p.css("transform-origin-y","0px");p.css("transform-origin","0 0");p.css("-ms-transform","scale("+h+","+w+")");p.css("-moz-transform","scale("+h+","+w+")");p.css("-o-transform","scale("+h+","+w+")");p.css("-webkit-transform","scale("+h+","+w+")");p.css("transform","scale("+h+","+w+")");p.css("margin-left",Math.floor(v/2-(n*h)/2)+"px");p.css("top",Math.floor(s/2-(k*w)/2)+"px");this.w=v;this.h=s;m.css("visibility","visible");this._scale=h;if(this.document!=null){this.document.onStageScale(this._scale)}if(this.popupStack.length>0){for(var o=0;o<this.popupStack.length;o++){this.popupStack[o].onStageScale(this._scale)}}}}};g.prototype.getScaledDimensions=function(m,k,j){var n=m;var i=k;var l=j.offsetWidth;var o=j.offsetHeight;var h={width:0,height:0};if(n/i>l/o){h.height=i;h.width=l*(i/o)}else{h.width=n;h.height=o*(n/l)}if(g.MARGIN_PERCENT!=0){h.width*=(1-g.MARGIN_PERCENT);h.height*=(1-g.MARGIN_PERCENT)}h.width=Math.floor(h.width);h.height=Math.floor(h.height);return h};g.prototype.styleToObject=function(l){var m=l.split(";");var k;var j=new Object();for(k=0;k<m.length;k++){var h=m[k].trim();if(h==""){continue}var n=m[k].split(":");j[n[0].toLowerCase().trim()]=n[1].toLowerCase().trim()}return j};g.prototype.needContainerSizePatch=function(){var j=$(this.diapContainer);if(j.parent().is("body")==false){return false}var i=j.attr("style");if(i){var h=this.styleToObject(i);if(h.height=="100%"){return true}}return false};g.prototype.patchContainerSize=function(){var h=window.innerWidth?window.innerWidth:$(window).width();var j=window.innerHeight?window.innerHeight:$(window).height();if(this.browser.isIOS){var i=window;while(i.parent!=null&&i.parent!=i){i=i.parent}if(i.orientation==0||i.orientation==180){if(h>768){h=768}}}return{x:h,y:j}};g.DP_WIDTH=950;g.DP_HEIGHT=608;g.MARGIN_PERCENT=0;g._lastZIndex=1000;return g})();f.UIStage=b})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f);this.$DOMItem.css("width",e.stageWidth.toString()+"px");this.$DOMItem.css("height",e.stageHeight.toString()+"px")}Object.defineProperty(d.prototype,"x",{get:function(){return 0},set:function(e){},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"y",{get:function(){return 0},set:function(e){},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"width",{get:function(){return this.stage.stageWidth},set:function(e){},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"height",{get:function(){return this.stage.stageHeight},set:function(e){},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"visible",{get:function(){return true},set:function(e){},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"browser",{get:function(){return this.stage.browser},enumerable:true,configurable:true});d.prototype.stageSizeChanged=function(e){this.$DOMItem.css("width",e.stageWidth.toString()+"px");this.$DOMItem.css("height",e.stageHeight.toString()+"px")};return d})(a.UIObject);a.UIDocument=b})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(a){var b=(function(){function d(i,e,f,h,g){this.id=i;this.name=e;this.type=f;if(h instanceof Object){this.enumValues=h}else{if(isNaN(h)==false&&isNaN(g)==false){this.minValue=h;this.maxValue=g}}}d.TYPE_NUMBER="number";d.TYPE_INTEGER="integer";d.TYPE_STRING="string";d.TYPE_BOOLEAN="boolean";d.TYPE_ENUM="select";d.TYPE_CSS="css";d.TYPE_HTML="html";d.TYPE_IMAGE="image";d.TYPE_CHILDREN="children";return d})();a.EDProperty=b;var c=(function(d){__extends(e,d);function e(h,f){d.call(this,h,f);this.handles=["tl","tm","tr","ml","mr","bl","bm","br"];this.pinned=false;this.selectMode=e.SELECTMODE_MULTIPLE;this.selectedItems=null;this.mouseX=0;this.mouseY=0;this.elementRects=null;this.minWidth=10;this.minHeight=10;this.minLeft=0;this.maxLeft=9999;this.minTop=0;this.maxTop=9999;this.onselect=null;this.ondeselect=null;this.onchanged=null;this.ondblclick=null;this.oncontextmenu=null;this.dragMode=e.DRAGMODE_NONE;this.selectedItems=new Array();var g=this;this.DOMItem.addEventListener("mousedown",function(i){g.mouseDown(i)});this.DOMItem.addEventListener("mousemove",function(i){g.mouseMove(i)});this.DOMItem.addEventListener("mouseup",function(i){g.mouseUp(i)});this.DOMItem.addEventListener("mouseleave",function(i){g.mouseLeave(i)});this.DOMItem.addEventListener("dblclick",function(i){g.mouseDblClick(i)});this.DOMItem.addEventListener("contextmenu",function(i){i.preventDefault();return false})}Object.defineProperty(e.prototype,"selectedItem",{get:function(){if(this.selectedItems.length>0){return this.selectedItems[this.selectedItems.length-1]}return null},enumerable:true,configurable:true});e.prototype.setSelection=function(f){if(this.selectedItems.length==1&&this.selectedItems[0]==f){return}if(this.selectedItems.length>0){this.deselectAll()}if(f!=null){this.select(f)}};e.prototype.addSelection=function(f){if(f!=null){if(this.selectedItems.indexOf(f)>=0){return}this.select(f)}};e.prototype.removeSelection=function(g){if(g!=null){var f=this.selectedItems.indexOf(g);if(f>=0){this.deselect(g)}}};e.prototype.selectAll=function(){this.deselectAll();for(var f=0;f<this.children.length;f++){this.addSelection(this.children[f])}};e.prototype.moveSelection=function(h,g){var j=g?10:1;var k="";switch(h){case 37:k="x";j=-j;break;case 38:k="y";j=-j;break;case 39:k="x";break;case 40:k="y";break;default:break}for(var f=0;f<this.selectedItems.length;f++){this.selectedItems[f][k]=this.selectedItems[f][k]+j}};e.prototype.foreachSel=function(g){for(var f=0;f<this.selectedItems.length;f++){g(f,this.selectedItems[f])}};e.prototype.cancelEvent=function(g,f){if(typeof f==="undefined"){f=false}if(g.preventDefault){g.preventDefault()}if(f){g.cancelBubble=true;if(g.stopPropagation){g.stopPropagation()}}};e.prototype.select=function(f){if(!document.getElementById||!this.enabled){return}if(f&&(this.selectedItems.indexOf(f)<0)&&this.enabled){this.selectedItems.push(f);this.showEditInterface(f);if(this.onselect){this.onselect(f)}}};e.prototype.deselect=function(f){if(!this.enabled){return}if(this.ondeselect){this.ondeselect(f)}this.hideEditInterface(f);this.selectedItems.splice(this.selectedItems.indexOf(f),1)};e.prototype.deselectAll=function(){var f;if(!this.enabled){return}while(this.selectedItems.length>0){this.deselect(this.selectedItems[0])}};e.prototype.mouseDown=function(h){if(!this.enabled){return true}var m=(h.target||h.srcElement),l=null,j=null,g=new RegExp("UIEDHandle-([trmbl]{2})","");this.dragMode=e.DRAGMODE_NONE;while(m){if(m.className){if((g.test(m.className))){j=m;var k=m.className.match(new RegExp("UIEDHandle-([tmblr]{2})"))?RegExp.$1:"";var f;for(f=0;f<this.handles.length;f++){if(k==this.handles[f]){this.dragMode=f;break}}m=m.parentElement;l=m[a.UIObject.DOM_TO_UIOBJECT_PROP];this.cancelEvent(h);break}else{if(this.isElement(m)){l=m[a.UIObject.DOM_TO_UIOBJECT_PROP];this.dragMode=e.DRAGMODE_MOVE;break}}}m=m.parentNode}while(l!=null&&l!=this&&l.editable==false){l=l.parent}if(l!=null&&l==this){l=null}if(h.which!=3){if(h.shiftKey&&this.selectMode==e.SELECTMODE_MULTIPLE){if(l!=null&&this.selectedItems.indexOf(l)<0){this.select(l)}}else{this.deselectAll();if(l!=null){this.select(l)}}}else{if(l!=null){this.deselectAll();this.select(l);if(this.oncontextmenu!=null){h.preventDefault();this.oncontextmenu(h,l);return}}this.dragMode=e.DRAGMODE_NONE;return}if(this.dragMode!=e.DRAGMODE_NONE){this.mouseX=h.pageX;this.mouseY=h.pageY;this.elementRects=new Array();for(var f=0;f<this.selectedItems.length;f++){this.elementRects.push(this.selectedItems[f].position)}}Logger.log("DRAGMODE: "+this.dragMode);return};e.prototype.mouseMove=function(k){var h;if(this.selectMode==e.SELECTMODE_SIMPLE){return}if(this.dragMode==e.DRAGMODE_NONE||this.elementRects.length==0){return}var g=(k.pageX-this.mouseX)/this.stage.scale;var f=(k.pageY-this.mouseY)/this.stage.scale;for(h=0;h<this.selectedItems.length;h++){var j=this.selectedItems[h];if(j!=null&&j.hasOwnProperty("_tooltip_")){if(this.dragMode==e.DRAGMODE_MOVE){j._tooltip_.innerHTML="&nbsp;"+j.x+", "+j.y+"&nbsp;"}else{if(this.dragMode>=e.DRAGMODE_RESIZE){var m="&nbsp;";if(this.dragMode<=3||this.dragMode==5){m+=j.x+", "+j.y+"<br/>"}m+=j.width+" x "+j.height;m+="&nbsp;";j._tooltip_.innerHTML=m}}j._tooltip_.style.visibility="visible"}}if(this.dragMode==e.DRAGMODE_MOVE){for(h=0;h<this.selectedItems.length;h++){this.selectedItems[h].x=this.elementRects[h].x+g;this.selectedItems[h].y=this.elementRects[h].y+f}if(this.onchanged){this.onchanged()}}else{if(this.dragMode>=e.DRAGMODE_RESIZE){for(h=0;h<this.selectedItems.length;h++){var l={x:this.elementRects[h].x,y:this.elementRects[h].y,width:this.elementRects[h].width,height:this.elementRects[h].height};switch(this.dragMode){case 0:l.x=this.elementRects[h].x+g;l.width=this.elementRects[h].width-g;l.y=this.elementRects[h].y+f;l.height=this.elementRects[h].height-f;break;case 1:l.y=this.elementRects[h].y+f;l.height=this.elementRects[h].height-f;break;case 2:l.width=this.elementRects[h].width+g;l.y=this.elementRects[h].y+f;l.height=this.elementRects[h].height-f;break;case 3:l.x=this.elementRects[h].x+g;l.width=this.elementRects[h].width-g;break;case 4:l.width=this.elementRects[h].width+g;break;case 5:l.x=this.elementRects[h].x+g;l.width=this.elementRects[h].width-g;l.height=this.elementRects[h].height+f;break;case 6:l.height=this.elementRects[h].height+f;break;case 7:l.width=this.elementRects[h].width+g;l.height=this.elementRects[h].height+f;break}this.normalizeRect(l);this.selectedItems[h].position=l}if(this.onchanged){this.onchanged()}}}this.cancelEvent(k)};e.prototype.mouseUp=function(g){if(!this.enabled){return}if(this.dragMode!=e.DRAGMODE_NONE){this.dragMode=e.DRAGMODE_NONE}for(var f=0;f<this.selectedItems.length;f++){if(this.selectedItems[f].hasOwnProperty("_tooltip_")){this.selectedItems[f]["_tooltip_"].style.visibility="hidden"}}};e.prototype.mouseLeave=function(f){if(!this.enabled){return}if(this.dragMode!=e.DRAGMODE_NONE){this.dragMode=e.DRAGMODE_NONE}};e.prototype.mouseDblClick=function(f){if(!this.enabled){return}if(this.selectedItems.length>0){if(this.ondblclick!=null){this.ondblclick(f,this.selectedItems[0])}}};e.prototype.removeChild=function(g){for(var f=0;f<this.selectedItems.length;f++){if(this.selectedItems[f].id==g){this.deselect(this.selectedItems[f])}}d.prototype.removeChild.call(this,g)};e.prototype.isElement=function(g){if(g.id!=this.id&&g.className&&g.className.indexOf("uiobject")>-1){var f=g[a.UIObject.DOM_TO_UIOBJECT_PROP];if(f!=null&&f!=undefined){return true}}};e.prototype.normalizeRect=function(f){if(f.width<this.minWidth){var g=this.minWidth-f.width;f.x-=g;f.width=this.minWidth}if(f.height<this.minHeight){var g=this.minHeight-f.height;f.y-=g;f.height=this.minHeight}};e.prototype.showEditInterface=function(j){if(j.hasOwnProperty("_handle_tr")==false){for(var i=0;i<this.handles.length;i++){var f=document.createElement("div");f.className="UIEDHandle UIEDHandle-"+this.handles[i];if(this.selectMode==e.SELECTMODE_SIMPLE){f.style.cursor="default"}j["_handle_"+this.handles[i]]=j.DOMItem.appendChild(f)}var g=document.createElement("div");g.className="UIEDTooltip";g.innerHTML=""+j.x+", "+j.y;j._tooltip_=j.DOMItem.appendChild(g);j._tooltip_.style.visibility="hidden"}for(var i=0;i<this.handles.length;i++){j["_handle_"+this.handles[i]].style.visibility="inherit"}};e.prototype.hideEditInterface=function(g){for(var f=0;f<this.handles.length;f++){if(g.hasOwnProperty("_handle_"+this.handles[f])){g["_handle_"+this.handles[f]].style.visibility="hidden"}}};e.SELECTMODE_SIMPLE=0;e.SELECTMODE_SINGLE=1;e.SELECTMODE_MULTIPLE=2;e.DRAGMODE_NONE=-2;e.DRAGMODE_MOVE=-1;e.DRAGMODE_RESIZE=0;return e})(a.UIDocument);a.UIEDDocument=c})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(i,e,g,h){d.call(this,i);this.group=-1;this.state=0;this.autosize=false;this.state=c.STATE_OFF;this.group=g;this.$DOMItem.addClass("uibutton");if(e!=null&&e!=""){this.addClass(e)}this.setAllContent(h);var f=this;this.$DOMItem.mouseenter(function(){if(f.isEnabled&&!b.UIObject.editMode){f.onMouseEnter()}});this.$DOMItem.mouseleave(function(){if(f.isEnabled&&!b.UIObject.editMode){f.onMouseLeave()}});this.$DOMItem.mousedown(function(j){if(f.isEnabled&&!b.UIObject.editMode){f.onMouseDown(j)}});this.$DOMItem.mouseup(function(j){if(f.isEnabled&&!b.UIObject.editMode){f.onMouseUp(j)}})}c.prototype.onResize=function(){var e=parseInt(this.$DOMItem.css("border-top-width"));e+=parseInt(this.$DOMItem.css("border-bottom-width"));if(isNaN(e)){e=0}if(this.autosize==false){this.$DOMItem.css("line-height",(this.height-e).toString()+"px")}else{var g=parseInt(this.$DOMItem.css("font-size"));var f=this.DOMItem.offsetHeight;var i=(f-e-g)/2;this.$DOMItem.css("min-height",f.toString()+"px");this.$DOMItem.css("padding-top",i.toString()+"px");this.$DOMItem.css("padding-bottom",i.toString()+"px");this.positionCache.height=f;this.propagateAutoSized()}};Object.defineProperty(c.prototype,"pushed",{get:function(){return(this.state==c.STATE_ON)},set:function(g){if(this.group==c.BUTTON){return}else{if(this.group==c.CHECKBOX){if(g&&this.state!=c.STATE_ON){this.state=c.STATE_ON;this.$DOMItem.addClass("active")}else{if(this.state!=c.STATE_OFF){this.state=c.STATE_OFF;this.$DOMItem.removeClass("active")}}}else{if(g){var e=this.parent.children;if(e!=null&&e.length>1){var f;for(f=0;f<e.length;f++){var h=e[f];if(h!=this&&h instanceof c){var j=h;if(j.group==this.group&&j.state==c.STATE_ON){j.state=c.STATE_OFF;j.$DOMItem.removeClass("active")}}}}this.state=c.STATE_ON;this.$DOMItem.addClass("active")}else{this.state=c.STATE_OFF;this.$DOMItem.removeClass("active")}}}},enumerable:true,configurable:true});c.prototype.onMouseEnter=function(){this.$DOMItem.addClass("hover")};c.prototype.onMouseLeave=function(){this.$DOMItem.removeClass("hover");this.$DOMItem.removeClass("down")};c.prototype.onMouseDown=function(e){this.$DOMItem.addClass("down")};c.prototype.onMouseUp=function(e){if(this.$DOMItem.hasClass("down")){this.$DOMItem.removeClass("down");if(this.group==c.BUTTON){}else{if(this.group==c.CHECKBOX){this.pushed=!this.pushed}else{this.pushed=true}}if(this.command!=null){this.command("click",this)}}};c.BUTTON=-1;c.CHECKBOX=0;c.STATE_OFF=0;c.STATE_ON=1;return c})(b.UIObject);b.UIButton=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(a){var b=(function(c){__extends(d,c);function d(l,f,h,j,g,e,k){if(typeof j==="undefined"){j=d.ADJUSTMODE_NONE}if(typeof g==="undefined"){g=-1}if(typeof e==="undefined"){e=-1}if(typeof k==="undefined"){k=0}c.call(this,l);this.adjustMode=d.ADJUSTMODE_NONE;this.alignMode=0;this.originalWidth=0;this.originalHeight=0;this.img=null;this.adjustMode=j;this.alignMode=k;this.imagePath=d.NO_IMAGE;this.originalWidth=0;this.originalHeight=0;if(h==null||h==""){h=d.NO_IMAGE}this.imagePath=h;this.$DOMItem.addClass("uiimage");if(f!=null&&f!=""){this.addClass(f)}if(g!=-1){this.width=g}if(e!=-1){this.height=e}this.img=new Image();this.img.style.pointerEvents="none";this.img.src=this.imagePath;if(this.img.height>0||this.img.naturalHeight>0){this.adjust()}else{var i=this;this.img.onload=function(){i.adjust();i.img.onload=null}}this.$DOMItem.append(this.img)}d.prototype.align=function(){if((this.alignMode&d.ALIGN_CENTER)==d.ALIGN_CENTER){this.img.style.marginLeft=((this.width-this.img.width)/2).toString()+"px"}else{if((this.alignMode&d.ALIGN_RIGHT)==d.ALIGN_RIGHT){this.img.style.marginLeft=(this.width-this.img.width).toString()+"px"}else{this.img.style.marginLeft="0px"}}if((this.alignMode&d.ALIGN_MIDDLE)==d.ALIGN_MIDDLE){this.img.style.marginTop=((this.height-this.img.height)/2).toString()+"px"}else{if((this.alignMode&d.ALIGN_BOTTOM)==d.ALIGN_BOTTOM){this.img.style.marginTop=(this.height-this.img.height).toString()+"px"}else{this.img.style.marginTop="0px"}}};d.prototype.adjust=function(){var f;var g;if(this.img==null){return}if(this.originalWidth==0){this.originalWidth=this.img.naturalWidth}if(this.originalHeight==0){this.originalHeight=this.img.naturalHeight}if(this.originalWidth==0){this.originalWidth=this.img.width}if(this.originalHeight==0){this.originalHeight=this.img.height}if(this.img.width!=this.originalWidth){this.img.width=this.originalWidth}if(this.img.height!=this.originalHeight){this.img.height=this.originalHeight}switch(this.adjustMode){case d.ADJUSTMODE_NONE:this.img.style.marginLeft="0px";this.img.style.marginTop="0px";break;case d.ADJUSTMODE_AUTOSIZE:this.dontNotify=true;this.width=this.originalWidth;this.height=this.originalHeight;this.dontNotify=false;this.img.style.marginLeft="0px";this.img.style.marginTop="0px";var e=this;setTimeout(function(){e.propagateAutoSized()},10);break;case d.ADJUSTMODE_ALIGNED:this.align();break;case d.ADJUSTMODE_STRETCH:this.img.style.marginLeft="0px";this.img.style.marginTop="0px";this.img.width=this.width;this.img.height=this.height;break;case d.ADJUSTMODE_RESIZE:if((this.width/this.height)>(this.originalWidth/this.originalHeight)){g=this.height/this.originalHeight}else{g=this.width/this.originalWidth}this.img.width=this.originalWidth*g;this.img.height=this.originalHeight*g;this.align();break;case d.ADJUSTMODE_CROP:if((this.width/this.height)<(this.originalWidth/this.originalHeight)){g=this.height/this.originalHeight}else{g=this.width/this.originalWidth}this.img.width=this.originalWidth*g;this.img.height=this.originalHeight*g;this.align();break;case d.ADJUSTMODE_TAG:this.img.style.marginLeft="0px";this.img.style.marginTop="0px";if(this.width!=0&&this.height!=0){this.img.width=this.width;this.img.height=this.height}else{if(this.width!=0){g=this.originalWidth/this.width;this.img.width=this.width;this.img.height=this.originalHeight/g}else{if(this.height!=0){g=this.originalHeight/this.height;this.img.width=this.originalWidth/g;this.img.height=this.height}}}break}};d.prototype.onResize=function(){this.adjust()};d.prototype.getImage=function(){if(this.imagePath==d.NO_IMAGE){return""}else{return this.imagePath}};d.prototype.setImage=function(e){if(e==null||e==""){e=d.NO_IMAGE}if(this.imagePath==e){return}this.imagePath=e;this.originalWidth=0;this.originalHeight=0;$(this.img).remove();this.img=new Image();this.img.style.pointerEvents="none";this.$DOMItem.prepend(this.img);this.img.src=this.imagePath;if(this.img.height>0||this.img.naturalHeight>0){this.adjust()}else{var f=this;this.img.onload=function(){f.adjust();f.img.onload=null}}};Object.defineProperty(d.prototype,"src",{get:function(){return this.getImage()},set:function(e){this.setImage(e)},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"border",{get:function(){return this.$DOMItem.hasClass("border")},set:function(e){if(this.border!=e){this.$DOMItem.addClass("border")}else{this.$DOMItem.removeClass("border")}},enumerable:true,configurable:true});d.NO_IMAGE="images/_noimage.png";d.ADJUSTMODE_NONE=0;d.ADJUSTMODE_AUTOSIZE=1;d.ADJUSTMODE_ALIGNED=2;d.ADJUSTMODE_STRETCH=3;d.ADJUSTMODE_RESIZE=4;d.ADJUSTMODE_CROP=5;d.ADJUSTMODE_TAG=6;d.ALIGN_LEFT=0;d.ALIGN_CENTER=1;d.ALIGN_RIGHT=2;d.ALIGN_TOP=0;d.ALIGN_MIDDLE=16;d.ALIGN_BOTTOM=32;return d})(a.UIObject);a.UIImage=b})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(a){var b=(function(c){__extends(d,c);function d(j,f,h,i,e,g){if(typeof e==="undefined"){e=true}if(typeof g==="undefined"){g=10}c.call(this,j,"",h,"");this.htmlContent=i;this.setCSSClass(f);if(e){c.prototype.setContent.call(this,"<table id='textButtonContainer' class='textButtonContainer' style='width: 100%; height: 100%; line-height: normal; padding-left: "+g+"px; padding-right: "+g+"px;'><tr style='vertical-align: middle;'><td style='vertical-align: middle; text-align: center;'><div id='realContent'>"+i+"</div></td></tr></table>")}else{c.prototype.setContent.call(this,"<table id='textButtonContainer' class='textButtonContainer' style='width: 100%; height: 100%; line-height: normal; padding-left: "+g+"px; padding-right: "+g+"px; text-align:left;'><tr><td><div id='realContent'>"+i+"</div></td></tr></table>")}}d.prototype.setContent=function(f){this.htmlContent=f;var e=this.$DOMItem.find("#realContent");e.html(f)};d.prototype.getContent=function(){return this.htmlContent};return d})(a.UIButton);a.UITextButton=b})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(f,m,j,k,i,g,l,h){if(typeof i==="undefined"){i=b.UIImage.ADJUSTMODE_STRETCH}if(typeof g==="undefined"){g=-1}if(typeof l==="undefined"){l=-1}if(typeof h==="undefined"){h=0}d.call(this,f,m,j,"");this.adjustMode=b.UIImage.ADJUSTMODE_NONE;this.alignMode=0;this.originalWidth=0;this.originalHeight=0;this.img=null;this.adjustMode=i;this.alignMode=h;this.imagePath=b.UIImage.NO_IMAGE;this.originalWidth=0;this.originalHeight=0;if(k==null||k==""){k=b.UIImage.NO_IMAGE}this.imagePath=k;if(g!=-1){this.width=g}if(l!=-1){this.height=l}d.prototype.setContent.call(this,"<div id='imgButtonContainer' class='imgButtonContainer' style='_width: 100%; _height: 100%;'></div>");this.img=new Image();this.img.style.pointerEvents="none";this.img.src=this.imagePath;if(this.img.height>0||this.img.naturalHeight>0){this.adjust()}else{var e=this;this.img.onload=function(){e.adjust();e.img.onload=null}}this.$DOMItem.children("#imgButtonContainer").append(this.img)}c.prototype.align=function(){if((this.alignMode&b.UIImage.ALIGN_CENTER)==b.UIImage.ALIGN_CENTER){this.img.style.marginLeft=((this.width-this.img.width)/2).toString()+"px"}else{if((this.alignMode&b.UIImage.ALIGN_RIGHT)==b.UIImage.ALIGN_RIGHT){this.img.style.marginLeft=(this.width-this.img.width).toString()+"px"}else{this.img.style.marginLeft="0px"}}if((this.alignMode&b.UIImage.ALIGN_MIDDLE)==b.UIImage.ALIGN_MIDDLE){this.img.style.marginTop=((this.height-this.img.height)/2).toString()+"px"}else{if((this.alignMode&b.UIImage.ALIGN_BOTTOM)==b.UIImage.ALIGN_BOTTOM){this.img.style.marginTop=(this.height-this.img.height).toString()+"px"}else{this.img.style.marginTop="0px"}}};c.prototype.adjust=function(){var f;var g;if(this.img==null){return}if(this.originalWidth==0){this.originalWidth=this.img.naturalWidth}if(this.originalHeight==0){this.originalHeight=this.img.naturalHeight}if(this.originalWidth==0){this.originalWidth=this.img.width}if(this.originalHeight==0){this.originalHeight=this.img.height}if(this.img.width!=this.originalWidth){this.img.width=this.originalWidth}if(this.img.height!=this.originalHeight){this.img.height=this.originalHeight}switch(this.adjustMode){case b.UIImage.ADJUSTMODE_NONE:this.img.style.marginLeft="0px";this.img.style.marginTop="0px";break;case b.UIImage.ADJUSTMODE_AUTOSIZE:this.dontNotify=true;this.width=this.originalWidth;this.height=this.originalHeight;this.dontNotify=false;this.img.style.marginLeft="0px";this.img.style.marginTop="0px";var e=this;setTimeout(function(){e.propagateAutoSized()},10);break;case b.UIImage.ADJUSTMODE_ALIGNED:this.align();break;case b.UIImage.ADJUSTMODE_STRETCH:this.img.style.marginLeft="0px";this.img.style.marginTop="0px";this.img.width=this.width;this.img.height=this.height;break;case b.UIImage.ADJUSTMODE_RESIZE:if((this.width/this.height)>(this.originalWidth/this.originalHeight)){g=this.height/this.originalHeight}else{g=this.width/this.originalWidth}this.img.width=this.originalWidth*g;this.img.height=this.originalHeight*g;this.align();break;case b.UIImage.ADJUSTMODE_CROP:if((this.width/this.height)<(this.originalWidth/this.originalHeight)){g=this.height/this.originalHeight}else{g=this.width/this.originalWidth}this.img.width=this.originalWidth*g;this.img.height=this.originalHeight*g;this.align();break;case b.UIImage.ADJUSTMODE_TAG:this.img.style.marginLeft="0px";this.img.style.marginTop="0px";if(this.width!=0&&this.height!=0){this.img.width=this.width;this.img.height=this.height}else{if(this.width!=0){g=this.originalWidth/this.width;this.img.width=this.width;this.img.height=this.originalHeight/g}else{if(this.height!=0){g=this.originalHeight/this.height;this.img.width=this.originalWidth/g;this.img.height=this.height}}}break}this.$DOMItem.children("imgButtonContainer").css({width:this.width+"px",height:this.height+"px"})};c.prototype.onResize=function(){this.adjust()};c.prototype.getImage=function(){if(this.imagePath==b.UIImage.NO_IMAGE){return""}else{return this.imagePath}};c.prototype.setImage=function(e){if(e==null||e==""){e=b.UIImage.NO_IMAGE}if(this.imagePath==e){return}this.imagePath=e;this.originalWidth=0;this.originalHeight=0;$(this.img).remove();this.img=new Image();this.img.style.pointerEvents="none";this.$DOMItem.prepend(this.img);this.img.src=this.imagePath;if(this.img.height>0||this.img.naturalHeight>0){this.adjust()}else{var f=this;this.img.onload=function(){f.adjust();f.img.onload=null}}};Object.defineProperty(c.prototype,"src",{get:function(){return this.getImage()},set:function(e){this.setImage(e)},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"border",{get:function(){return this.$DOMItem.hasClass("innerBordered")},set:function(e){if(this.border!=e){this.$DOMItem.addClass("innerBordered")}else{this.$DOMItem.removeClass("innerBordered")}},enumerable:true,configurable:true});c.NO_IMAGE="images/_noimage.png";c.ADJUSTMODE_NONE=0;c.ADJUSTMODE_AUTOSIZE=1;c.ADJUSTMODE_ALIGNED=2;c.ADJUSTMODE_STRETCH=3;c.ADJUSTMODE_RESIZE=4;c.ADJUSTMODE_CROP=5;c.ADJUSTMODE_TAG=6;c.ALIGN_LEFT=0;c.ALIGN_CENTER=1;c.ALIGN_RIGHT=2;c.ALIGN_TOP=0;c.ALIGN_MIDDLE=16;c.ALIGN_BOTTOM=32;return c})(b.UIButton);b.UIImageButton=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(a){var b=(function(c){__extends(d,c);function d(h,e,g,f){if(typeof f==="undefined"){f=10}c.call(this,h);this._alignMode=d.ALIGN_CENTER|d.ALIGN_MIDDLE;this.setCSSClass(e);c.prototype.setAllContent.call(this,"<table style='width: 100%; height: 100%; line-height: normal; padding-left: "+f+"px; padding-right: "+f+"px;'><tr id='st_tr' style='vertical-align: middle;'><td id='st_td' style='vertical-align: middle; text-align: center;'><div id='realContent'>"+g+"</div></td></tr></table>")}d.prototype.setContent=function(f){var e=this.$DOMItem.find("#realContent");e.html(f)};d.prototype.getContent=function(){var e=this.$DOMItem.find("#realContent");return e.html()};Object.defineProperty(d.prototype,"alignMode",{get:function(){return this._alignMode},set:function(f){if(this._alignMode!=f){this._alignMode=f;var e=this.$DOMItem.find("#st_tr")[0];var g=this.$DOMItem.find("#st_td")[0];if((f&15)==d.ALIGN_LEFT){g.style.textAlign="left"}else{if(f&d.ALIGN_CENTER){g.style.textAlign="center"}else{if(f&d.ALIGN_RIGHT){g.style.textAlign="right"}}}if((f&240)==d.ALIGN_TOP){e.style.verticalAlign="top";g.style.verticalAlign="top"}else{if(f&d.ALIGN_MIDDLE){e.style.verticalAlign="middle";g.style.verticalAlign="middle"}else{if(f&d.ALIGN_BOTTOM){e.style.verticalAlign="bottom";g.style.verticalAlign="bottom"}}}}},enumerable:true,configurable:true});d.ALIGN_LEFT=0;d.ALIGN_CENTER=1;d.ALIGN_RIGHT=2;d.ALIGN_TOP=0;d.ALIGN_MIDDLE=16;d.ALIGN_BOTTOM=32;return d})(a.UIObject);a.UISimpleText=b})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(g,e,f){d.call(this,g);this.htmlContent=f;this.autoScroll=true;this.addClass("uirichtext");if(e!=null&&e!=""){this.addClass(e)}d.prototype.setAllContent.call(this,"<div id='realContent' style='width: 100%; height: 100%; overflow-y: auto;'>"+f+"</div>")}c.prototype.setContent=function(f){this.htmlContent=f;var e=this.$DOMItem.find("#realContent");e.html(f)};c.prototype.getContent=function(){return this.htmlContent};Object.defineProperty(c.prototype,"scrollable",{get:function(){return this.autoScroll&&(this.DOMItem.scrollHeight>this.DOMItem.clientHeight)},set:function(f){if(this.autoScroll!=f){var e=this.$DOMItem.find("#realContent");if(f==true){e.css("overflow-y","auto")}else{e.css("overflow-y","hidden")}this.autoScroll=f}},enumerable:true,configurable:true});return c})(b.UIObject);b.UIRichText=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(l,g,i,f,j,h,e,k){if(typeof j==="undefined"){j=b.UIImage.ADJUSTMODE_NONE}if(typeof h==="undefined"){h=-1}if(typeof e==="undefined"){e=-1}if(typeof k==="undefined"){k=0}d.call(this,l,g,i,j,h,e,k);if(f==null||f==""){f=b.UIImage.NO_IMAGE}this.animPath=f}c.prototype.play=function(){this.img.src=this.animPath};c.prototype.stop=function(){this.img.src=this.imagePath};c.prototype.getAnim=function(){if(this.animPath==b.UIImage.NO_IMAGE){return""}else{return this.animPath}};c.prototype.setAnim=function(e){if(e==null||e==""){e=b.UIImage.NO_IMAGE}if(this.animPath==e){return}this.animPath=e};Object.defineProperty(c.prototype,"anim",{get:function(){return this.getAnim()},set:function(e){this.setAnim(e)},enumerable:true,configurable:true});return c})(b.UIImage);b.UIAnimatedGIF=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e);this.onNeedsRedraw=null;this.canvas=document.createElement("canvas");this.canvas.width=this.width;this.canvas.height=this.height;this.$DOMItem.prepend(this.canvas)}c.prototype.onResize=function(){this.canvas.width=this.width;this.canvas.height=this.height;if(this.onNeedsRedraw!=null){this.onNeedsRedraw(this)}};c.prototype.clear=function(g,f){if(typeof g==="undefined"){g=null}if(typeof f==="undefined"){f=false}var e=this.canvas.getContext("2d");if(f){e.save();e.setTransform(1,0,0,1,0,0)}if(g==null){e.clearRect(0,0,this.canvas.width,this.canvas.height)}else{e.fillStyle=g;e.fillRect(0,0,this.canvas.width,this.canvas.height)}if(f){e.restore()}};return c})(b.UIObject);b.UICanvas=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(f){d.call(this,f);this.naturalScale=1;this.zoomLevel=1;this.dragging=false;this.adjusted=false;this.dragging=false;var e=this;this.$DOMItem.mousedown(function(g){if(e.isEnabled&&!b.UIObject.editMode){e.onMouseDown(g.clientX,g.clientY)}});this.$DOMItem.mouseup(function(g){if(e.isEnabled&&!b.UIObject.editMode){e.onMouseUp(g.clientX,g.clientY)}});this.$DOMItem.mousemove(function(g){if(e.isEnabled&&!b.UIObject.editMode){e.onMouseMove(g.clientX,g.clientY)}});this.$DOMItem.mouseleave(function(){if(e.isEnabled&&!b.UIObject.editMode){e.onMouseLeave()}});this.DOMItem.addEventListener("touchstart",function(g){if(e.isEnabled&&!b.UIObject.editMode){var h=g.changedTouches,i=h[0];e.onMouseDown(i.clientX,i.clientY);g.preventDefault()}},true);this.DOMItem.addEventListener("touchmove",function(g){if(e.isEnabled&&!b.UIObject.editMode){var h=g.changedTouches,i=h[0];e.onMouseMove(i.clientX,i.clientY);g.preventDefault()}},true);this.DOMItem.addEventListener("touchend",function(g){if(e.isEnabled&&!b.UIObject.editMode){var h=g.changedTouches,i=h[0];e.onMouseUp(i.clientX,i.clientY);g.preventDefault()}},true)}c.prototype.onMouseDown=function(f,e){if(this.children.length>0){this.downPos={x:f,y:e};this.itemOffset={x:this.children[0].x,y:this.children[0].y};this.dragging=true}};c.prototype.onMouseUp=function(f,e){this.dragging=false};c.prototype.onMouseMove=function(g,e){if(this.children.length>0&&this.dragging){var f=this.children[0];var i={x:(g-this.downPos.x),y:(e-this.downPos.y)};i.x=i.x/this.stage.scale;i.y=i.y/this.stage.scale;var h={x:(this.itemOffset.x+i.x),y:(this.itemOffset.y+i.y)};this.normalizePosition(h);f.x=h.x;f.y=h.y}};c.prototype.onMouseLeave=function(){this.dragging=false};c.prototype.normalizePosition=function(h){if(this.children.length>0){var e=this.children[0];var f=e.scaledWidth;var g=e.scaledHeight;if(f<this.width){h.x=(this.width-f)/2}else{if(h.x>0){h.x=0}if(h.x+f<this.width){h.x=this.width-f}}if(g<this.height){h.y=(this.height-g)/2}else{if(h.y>0){h.y=0}if(h.y+g<this.height){h.y=this.height-g}}}};c.prototype.addContent=function(e){if(this.children.length>0){this.removeAllChildren()}this.addChild(e);this.adjusted=false;var f=this;this.onChildAutoSized=function(g){f.adjust()};this.adjust()};c.prototype.onResize=function(){this.adjust()};c.prototype.adjust=function(){if(this.adjusted){return}this.zoomLevel=1;if(this.children.length>0){var h=this.children[0];if(h.width!=0&&h.height!=0){this.adjusted=true;var e=h.width*h.scaleX;var g=h.height*h.scaleY;if((this.width/this.height)>(e/g)){this.naturalScale=this.height/g}else{this.naturalScale=this.width/e}h.scaleX=this.naturalScale*this.zoomLevel;h.scaleY=this.naturalScale*this.zoomLevel;var f={x:0,y:0};this.normalizePosition(f);h.x=f.x;h.y=f.y}}};Object.defineProperty(c.prototype,"zoom",{get:function(){return this.zoomLevel},set:function(i){if(i<1){return}if(this.zoomLevel!=i){this.zoomLevel=i;if(this.children.length>0){var h=this.children[0];var e={x:(this.width/2-h.x)/h.scaleX,y:(this.height/2-h.y)/h.scaleY};h.scaleX=this.naturalScale*this.zoomLevel;h.scaleY=this.naturalScale*this.zoomLevel;var f={x:e.x*h.scaleX,y:e.y*h.scaleY};var g={x:this.width/2-f.x,y:this.height/2-f.y};this.normalizePosition(g);h.x=g.x;h.y=g.y}}},enumerable:true,configurable:true});return c})(b.UIObject);b.UIZoomPanner=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var c=(function(d){__extends(e,d);function e(f){d.call(this,f);this.index=0;this.onPrepare=null;this.onShown=null;this.onLeave=null;this.onLeaved=null}e.prototype.doPrepare=function(){if(this.onPrepare!=null){this.onPrepare(this)}};e.prototype.doShown=function(){if(this.onShown!=null){this.onShown(this)}};e.prototype.doLeave=function(){if(this.onLeave!=null){this.onLeave(this)}};e.prototype.doLeaved=function(){if(this.onLeaved!=null){this.onLeaved(this)}};return e})(b.UIObject);b.UISlide=c;var a=(function(e){__extends(d,e);function d(f){e.call(this,f);this.currentIndex=0;this.navigator=null;this.transDuration=500;this.transMode=d.TRANS_FADE;this.slides=new Array()}d.prototype.addSlide=function(f){e.prototype.addChild.call(this,f);this.slides.push(f);f.x=0;f.y=0;f.width=this.width;f.height=this.height;f.index=this.slides.length-1;if(this.slides.length>1){f.visible=false}return(this.slides.length-1)};Object.defineProperty(d.prototype,"count",{get:function(){return this.slides.length},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"current",{get:function(){return this.currentIndex},set:function(f){if(f<this.slides.length){if(this.transMode==d.TRANS_NONE){var h=this.currentIndex;this.slides[this.currentIndex].doLeave();this.currentIndex=f;this.slides[this.currentIndex].doPrepare();var g=this;setTimeout(function(){g.slides[h].visible=false;g.slides[g.currentIndex].visible=true;g.slides[g.currentIndex].doShown()},10)}else{if(this.transMode==d.TRANS_FADE){var g=this;this.slides[this.currentIndex].doLeave();var h=this.currentIndex;this.currentIndex=f;this.slides[this.currentIndex].doPrepare();this.slides[h].fadeOut(this.transDuration);this.slides[this.currentIndex].fadeIn(this.transDuration,function(){g.slides[g.currentIndex].doShown();g.slides[h].doLeaved()})}else{if(this.transMode==d.TRANS_FADE_FROMRIGHT){var g=this;this.slides[this.currentIndex].doLeave();var h=this.currentIndex;this.currentIndex=f;this.slides[this.currentIndex].doPrepare();this.slides[h].fadeOut(this.transDuration);this.slides[this.currentIndex].alpha=0;this.slides[this.currentIndex].x=40;this.slides[this.currentIndex].visible=true;this.slides[this.currentIndex].animate({alpha:1,x:0},this.transDuration,function(){g.slides[g.currentIndex].doShown();g.slides[h].doLeaved()})}}}if(this.navigator!=null){this.navigator.updateButtons(this)}}},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"currentSlide",{get:function(){return this.slides[this.currentIndex]},set:function(f){for(var g=0;g<this.slides.length;g++){if(f===this.slides[g]){this.current=g;return}}},enumerable:true,configurable:true});d.prototype.setCurrentSlide=function(h,g,j,f){var k=this.transMode;var i=this.transDuration;this.transMode=g;this.transDuration=j;this.current=h;this.transMode=k;this.transDuration=i};d.prototype.setCurrentSlideById=function(k,g,j,f){for(var h=0;h<this.slides.length;h++){if(this.slides[h].id==k){this.setCurrentSlide(h,g,j,f);return}}};d.prototype.next=function(){if(this.currentIndex<(this.slides.length-1)){this.current=this.currentIndex+1}};d.prototype.prev=function(){if(this.currentIndex>0){this.current=this.currentIndex-1}};d.TRANS_NONE=0;d.TRANS_FADE=1;d.TRANS_FADE_FROMRIGHT=2;return d})(b.UIObject);b.UISlider=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(a){var b=(function(c){__extends(d,c);function d(h,e,f){c.call(this,h);this.slider=null;this.hasHomeButton=true;this.showPrevOn=1;this.homeButton=null;this.prevButton=null;this.nextButton=null;var g=this;this.sliderId=e;this.homeButton=new a.UIButton("home","",a.UIButton.BUTTON,"");this.homeButton.editable=false;this.addChild(this.homeButton);this.homeButton.command=function(i,j){if(g.slider!=null){g.slider.current=0;g.homeButton.visible=false;g.prevButton.visible=false;if(g.slider.count<=1){g.nextButton.visible=false}}};this.hasHomeButton=f;this.homeButton.visible=f;this.prevButton=new a.UIButton("prev","",a.UIButton.BUTTON,"");this.prevButton.editable=false;this.addChild(this.prevButton);this.prevButton.command=function(i,j){if(g.slider!=null){if(g.slider.current>0){g.slider.current--;g.nextButton.visible=true}else{if(g.slider.current==0){g.prevButton.visible=false;g.homeButton.visible=false}else{if(g.slider.current<g.showPrevOn){g.prevButton.visible=false}}}}};this.nextButton=new a.UIButton("next","",a.UIButton.BUTTON,"");this.nextButton.editable=false;this.addChild(this.nextButton);this.nextButton.command=function(i,j){if(g.slider!=null){if(g.slider.current<(g.slider.count-1)){g.slider.current++;if(g.slider.current>=g.showPrevOn){g.prevButton.visible=true}if(g.slider.current==(g.slider.count-1)){g.nextButton.visible=false}}if(g.slider.current>0){if(g.hasHomeButton){g.homeButton.visible=true}}}};this.whiteButtons=false;this.positionButtons()}d.prototype.positionButtons=function(){var e=0;if(this.hasHomeButton){this.homeButton.position={x:e,y:0,width:d.BUTTONS_SIZE.width,height:d.BUTTONS_SIZE.height};e+=d.BUTTONS_SEPHOME}this.prevButton.position={x:e,y:0,width:d.BUTTONS_SIZE.width,height:d.BUTTONS_SIZE.height};e+=d.BUTTONS_SEPPREVNEXT;this.nextButton.position={x:e,y:0,width:d.BUTTONS_SIZE.width,height:d.BUTTONS_SIZE.height};this.width=e+d.BUTTONS_SIZE.width+1;this.height=d.BUTTONS_SIZE.height};Object.defineProperty(d.prototype,"showHome",{get:function(){return this.hasHomeButton},set:function(e){if(this.hasHomeButton!=e){this.hasHomeButton=e;this.homeButton.visible=e;this.positionButtons()}},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"whiteButtons",{get:function(){var e=this.homeButton.getCSSClass();if(e==d.HOME_CSS_WHITE){return true}return false},set:function(e){if(e){this.homeButton.setCSSClass(d.HOME_CSS_WHITE);this.prevButton.setCSSClass(d.PREV_CSS_WHITE);this.nextButton.setCSSClass(d.NEXT_CSS_WHITE)}else{this.homeButton.setCSSClass(d.HOME_CSS_BLACK);this.prevButton.setCSSClass(d.PREV_CSS_BLACK);this.nextButton.setCSSClass(d.NEXT_CSS_BLACK)}},enumerable:true,configurable:true});d.prototype.connect=function(){if(this.sliderId!=null&&this.sliderId!=""){this.slider=this.parent.getChildById(this.sliderId)}else{this.slider=null}};d.prototype.updateButtons=function(e){if(a.UIObject.editMode){return}this.prevButton.visible=false;this.nextButton.visible=false;if(e.current==0&&this.hasHomeButton){this.homeButton.visible=false}if(e.count>1){if(e.current>=this.showPrevOn){this.prevButton.visible=true}if(e.current<(e.count-1)){this.nextButton.visible=true}}};d.HOME_CSS_BLACK="iconHomeButton";d.PREV_CSS_BLACK="iconPrevButton";d.NEXT_CSS_BLACK="iconNextButton";d.HOME_CSS_WHITE="iconHomeButton_white";d.PREV_CSS_WHITE="iconPrevButton_white";d.NEXT_CSS_WHITE="iconNextButton_white";d.BUTTONS_SEPHOME=67;d.BUTTONS_SEPPREVNEXT=57;d.BUTTONS_SIZE={width:37,height:37};return d})(a.UIObject);a.UISliderNav=b})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(i,g,h){d.call(this,i);var f="";if(navigator.userAgent.match(/iPad/i)!=null){f='scrolling="no"'}if(h==false){this.setContent("<iframe src='"+g+"' style='width:100%;height:100%;' "+f+' frameborder="0"></iframe>');this.$absoluteIFrame=null}else{this.$absoluteIFrame=$("<iframe src='"+g+"' style='position: absolute; width:1px; height:1px; z-index:"+b.UIStage.topZIndex()+";' "+f+' frameborder="0"></iframe>');$("body").append(this.$absoluteIFrame);var e=this;setTimeout(function(){e.refresh()},100)}}Object.defineProperty(c.prototype,"src",{get:function(){return this.$DOMItem.attr("src")},set:function(e){this.$DOMItem.attr("src",e)},enumerable:true,configurable:true});c.prototype.refresh=function(e){if(typeof e==="undefined"){e=false}if(this.$absoluteIFrame!=null){var f=this.globalPosition;this.$absoluteIFrame.css({left:f.x+"px",top:f.y+"px",width:f.width+"px",height:f.height+"px"});if(this.globalVisible){this.$absoluteIFrame.show()}else{this.$absoluteIFrame.hide()}if(e){this.$absoluteIFrame.css("z-index",b.UIStage.topZIndex().toString())}}};c.prototype.onMove=function(){this.refresh()};c.prototype.onResize=function(){this.refresh()};c.prototype.onStageScale=function(e){this.refresh()};c.prototype.onVisible=function(){this.refresh(true)};c.prototype.onParentVisible=function(e){this.refresh(this.visible)};c.prototype.onAddedToStage=function(){this.refresh()};c.prototype.onRemovedFromStage=function(){if(this.$absoluteIFrame!=null){this.$absoluteIFrame.remove();this.$absoluteIFrame=null}};return c})(b.UIObject);b.UIIframe=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(h,f,e){d.call(this,h);this.deleteOnClose=false;this.onPrepare=null;this.onShown=null;this.onLeave=null;this.position={x:0,y:0,width:b.UIStage.DP_WIDTH,height:b.UIStage.DP_HEIGHT};if(f!=null){this.addClass(f)}if(e){var g=this;this.$DOMItem.click(function(){g.stage.closePopup()})}}c.prototype.addChild=function(e){if(this.children.length>=1){return}else{d.prototype.addChild.call(this,e)}};c.prototype.refresh=function(){if(this.children.length>0){var e=this.children[0];e.x=(b.UIStage.DP_WIDTH-e.width)/2;e.y=(b.UIStage.DP_HEIGHT-e.height)/2}};c.prototype.onResize=function(){this.refresh()};c.prototype.onStageScale=function(e){this.refresh();d.prototype.onStageScale.call(this,e)};c.prototype.doPrepare=function(){if(this.onPrepare!=null){this.onPrepare(this)}};c.prototype.doShown=function(){if(this.onShown!=null){this.onShown(this)}};c.prototype.doLeave=function(){if(this.onLeave!=null){this.onLeave(this)}};return c})(b.UIObject);b.UIPopup=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.prototype.onLeave=function(){};c.prototype.play=function(){};c.prototype.pause=function(){};c.prototype.isPlaying=function(){return false};c.prototype.rewind=function(){};c.prototype.getLength=function(){return 0};c.prototype.seek=function(e){};return c})(b.UIObject);b.UIMediaObject=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(f,n,j,h,i,g,l){if(typeof i==="undefined"){i=b.UIImage.ADJUSTMODE_NONE}if(typeof g==="undefined"){g=-1}if(typeof l==="undefined"){l=-1}d.call(this,f);this.adjustMode=b.UIImage.ADJUSTMODE_NONE;this.playerHeight=50;var k=(/iPhone|iPad|iPod/i.test(navigator.userAgent));if(k){this.playerHeight=70}this.adjustMode=i;this.$DOMItem.addClass("uiaudio");if(n!=null&&n!=""){this.addClass(n)}if(g!=-1){this.width=g}if(l!=-1){this.height=l}this.img=new Image();this.img.src=j;if(this.img.height>0||this.img.naturalHeight>0){this.adjust()}else{var e=this;this.img.onload=function(){e.adjust()}}this.$DOMItem.append(this.img);this.$DOMItem.append('<audio id = "aud_'+f+'" controls = "controls" width="'+g+'px" height="'+this.playerHeight+'px" preload="metadata" style="visibility: hidden;"><source type = "audio/mpeg" src ="'+h+'" / ></audio>');var m={theme:"aulaplaneta",autoplayOn:false,bigBtnOn:false,texts:{play:"Reproducir",playTitle:"Comenzar la reproduccin",pause:"Pausa",pauseTitle:"Parar la reproduccin",mute:"Silenciar",unmute:"Recuperar el sonido",fullscreen:"Pantalla completa",fullscreenTitle:"Activar/desactivar el modo de pantalla completa",volumeTitle:"Control de volumen",seekTitle:"Control de tiempo",captions:"Subttulos",captionsTitle:"Mostrar/ocultar subttulos"},onToolbarTemplate:function(r,o){var q=(r.$self.is("video"))?'<button class="cepda-fullscreen-button" title="'+o.texts.fullscreenTitle+'">'+o.texts.fullscreen+"</button>":"";var p='<div class="cepda-controls"><span style="float:left; width: 10px;">&nbsp;</span><button class="cepda-play-button" title="'+o.texts.playTitle+'">'+o.texts.play+'</button><input type="range" class="cepda-seek-slider" title="'+o.texts.seekTitle+'" value="0" min="0" max="150" step="0.1"/><span style="float:right; width: 10px;">&nbsp;</span>'+q+'<button class="cepda-caption-button" title="'+o.texts.captionsTitle+'">'+o.texts.captions+'</button><div class="cepda-caption-selector"></div><div class="cepda-volume-box"><button class="cepda-volume-button" title="'+o.texts.mute+'">'+o.texts.mute+'</button><input type="range" class="cepda-volume-slider" title="'+o.texts.volumeTitle+'" value="1" min="0" max="1" step="0.05"/></div><span class="cepda-timer">00:00</span></div>';return p},onToolbarChanged:function(r,o){var q=r.$playBtn[0].offsetLeft+r.$playBtn[0].offsetWidth;var p=r.$timer[0].offsetLeft-30;r.$seek.css("width",(p-q)+"px")}};var e=this;setTimeout(function(){jQuery("#aud_"+f).cepdaMediaPlayer(m);if(!k){jQuery("#aud_"+f).data("cepdaPlayer").resize(e.width,e.height-e.playerHeight)}jQuery("#aud_"+f).data("cepdaPlayer").setScale(e.stage.scale);jQuery("#aud_"+f).css("visibility","visible")},500);jQuery("#aud_"+f).css("visibility","visible")}c.prototype.adjust=function(){var g;var e=this.playerHeight+4;var f=this.height-e;switch(this.adjustMode){case b.UIImage.ADJUSTMODE_NONE:break;case b.UIImage.ADJUSTMODE_ALIGNED:this.img.style.left=((this.width-this.img.width)/2).toString()+"px";this.img.style.top=((f-this.img.height)/2).toString()+"px";break;case b.UIImage.ADJUSTMODE_STRETCH:this.img.width=this.width;this.img.height=f;break;case b.UIImage.ADJUSTMODE_RESIZE:g=this.img.width/this.width;if((this.img.height/g)<f){this.img.width=this.img.width*(this.img.height/f);this.img.height=f}else{this.img.width=this.width;this.img.height=this.img.height/g}this.img.style.left=((this.width-this.img.width)/2).toString()+"px";this.img.style.top=((f-this.img.height)/2).toString()+"px";break;case b.UIImage.ADJUSTMODE_CROP:g=this.img.width/this.width;if((this.img.height/g)<f){this.img.width=this.img.width*(this.img.height/f);this.img.height=f}else{this.img.width=this.width;this.img.height=this.img.height/g}this.img.style.left=((this.width-this.img.width)/2).toString()+"px";this.img.style.top=((f-this.img.height)/2).toString()+"px";break}};c.prototype.play=function(){var e=$("#aud_"+this.id).data("cepdaPlayer");if(e!=null){if(e.isPlaying()==false){e.playPause()}}};c.prototype.pause=function(){var e=$("#aud_"+this.id).data("cepdaPlayer");if(e!=null){if(e.isPlaying()==true){e.playPause()}}};c.prototype.isPlaying=function(){var e=$("#aud_"+this.id).data("cepdaPlayer");if(e!=null){return e.isPlaying()}return false};c.prototype.rewind=function(){var e=$("#aud_"+this.id).data("cepdaPlayer");if(e!=null){e.seek(0)}};c.prototype.getLength=function(){var e=$("#aud_"+this.id).data("cepdaPlayer");if(e!=null){return e.getDuration()}return 0};c.prototype.seek=function(f){var e=$("#aud_"+this.id).data("cepdaPlayer");if(e!=null){e.seek(f)}};c.prototype.onResize=function(){this.adjust();if($("#aud_"+this.id).data("cepdaPlayer")!=null){$("#aud_"+this.id).data("cepdaPlayer").resize(this.width,this.height-this.playerHeight)}};c.prototype.onStageScale=function(e){if($("#aud_"+this.id).data("cepdaPlayer")!=null){$("#aud_"+this.id).data("cepdaPlayer").setScale(e)}};c.prototype.onLeave=function(){var e=$("#aud_"+this.id).data("cepdaPlayer");if(e.isPlaying()){e.playPause()}};return c})(b.UIMediaObject);b.UIMediaAudio=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(d){__extends(c,d);function c(k,e,g,j,f){d.call(this,k);if(e!=""&&e!=null){this.addClass(e)}this.setContent('<video id = "vid_'+k+'" controls = "controls" width="'+j+'px" height="'+f+'px" preload="metadata" style="visibility: hidden;"><source type = "video/mp4" src ="'+g+'" / ></video>');var i={theme:"aulaplaneta",autoplayOn:false,fullScreenRelocateOn:true,texts:{play:"Reproducir",playTitle:"Comenzar la reproduccin",pause:"Pausa",pauseTitle:"Parar la reproduccin",mute:"Silenciar",unmute:"Recuperar el sonido",fullscreen:"Pantalla completa",fullscreenTitle:"Activar/desactivar el modo de pantalla completa",volumeTitle:"Control de volumen",seekTitle:"Control de tiempo",captions:"Subttulos",captionsTitle:"Mostrar/ocultar subttulos"},onToolbarTemplate:function(o,l){var n=(o.$self.is("video"))?'<button class="cepda-fullscreen-button" title="'+l.texts.fullscreenTitle+'">'+l.texts.fullscreen+"</button>":"";var m='<div class="cepda-controls"><span style="float:left; width: 10px;">&nbsp;</span><button class="cepda-play-button" title="'+l.texts.playTitle+'">'+l.texts.play+'</button><input type="range" class="cepda-seek-slider" title="'+l.texts.seekTitle+'" value="0" min="0" max="150" step="0.1"/><span style="float:right; width: 10px;">&nbsp;</span>'+n+'<button class="cepda-caption-button" title="'+l.texts.captionsTitle+'">'+l.texts.captions+'</button><div class="cepda-caption-selector"></div><div class="cepda-volume-box"><button class="cepda-volume-button" title="'+l.texts.mute+'">'+l.texts.mute+'</button><input type="range" class="cepda-volume-slider" title="'+l.texts.volumeTitle+'" value="1" min="0" max="1" step="0.05"/></div><span class="cepda-timer">00:00</span></div>';return m},onToolbarChanged:function(o,l){var n=o.$playBtn[0].offsetLeft+o.$playBtn[0].offsetWidth;var m=o.$timer[0].offsetLeft-30;o.$seek.css("width",(m-n)+"px")}};var h=this;setTimeout(function(){jQuery("#vid_"+k).cepdaMediaPlayer(i);if($("#vid_"+k).data("cepdaPlayer")!=null){jQuery("#vid_"+k).data("cepdaPlayer").resize(h.width,h.height-50);$("#vid_"+k).data("cepdaPlayer").setScale(h.stage.scale)}jQuery("#vid_"+k).css("visibility","visible")},500)}c.prototype.play=function(){var e=$("#vid_"+this.id).data("cepdaPlayer");if(e!=null){if(e.isPlaying()==false){e.playPause()}}};c.prototype.pause=function(){var e=$("#vid_"+this.id).data("cepdaPlayer");if(e!=null){if(e.isPlaying()==true){e.playPause()}}};c.prototype.isPlaying=function(){var e=$("#vid_"+this.id).data("cepdaPlayer");if(e!=null){return e.isPlaying()}return false};c.prototype.rewind=function(){var e=$("#vid_"+this.id).data("cepdaPlayer");if(e!=null){e.seek(0)}};c.prototype.getLength=function(){var e=$("#vid_"+this.id).data("cepdaPlayer");if(e!=null){return e.getDuration()}return 0};c.prototype.seek=function(e){var f=$("#vid_"+this.id).data("cepdaPlayer");if(f!=null){f.seek(e)}};c.prototype.onResize=function(){if($("#vid_"+this.id).data("cepdaPlayer")!=null){$("#vid_"+this.id).data("cepdaPlayer").resize(this.width,this.height-50)}};c.prototype.onStageScale=function(e){if($("#vid_"+this.id).data("cepdaPlayer")!=null){$("#vid_"+this.id).data("cepdaPlayer").setScale(e)}};c.prototype.onLeave=function(){var e=$("#vid_"+this.id).data("cepdaPlayer");if(e.isPlaying()){e.playPause()}};return c})(b.UIMediaObject);b.UIMediaVideo=a})(pppUI||(pppUI={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var pppUI;(function(b){var a=(function(){function d(){}return d})();var c=(function(d){__extends(e,d);function e(g,f){d.call(this,g);this.index=-1;this.audioPath="";this.noUI=true;if(f!=null&&f!=""){this.audioPath=f;this.index=e.findAudioInCache(this.audioPath);if(this.index==-1){this.index=XAudio.audioCreateTag(this.audioPath)}}if(b.UIObject.editMode){this.setContent("<img id='icon' src='"+e.EDIT_SOUND_ICON+"' style='pointer-events: none;'>");this.$DOMItem.css("border","1px solid grey");this.width=32;this.height=32}else{this.visible=false}}e.findAudioInCache=function(g){for(var f=0;f<e.audioCache.length;f++){if(e.audioCache[f].path==g){return e.audioCache[f].index}}return -1};e.prototype.play=function(){if(this.index!=-1){if(XAudio.isPaused(this.index)==false){XAudio.audioRewind(this.index)}XAudio.audioPlay(this.index,false)}};e.prototype.pause=function(){if(this.index!=-1){XAudio.audioPause(this.index)}};e.prototype.isPlaying=function(){if(this.index!=-1){return(XAudio.isPaused(this.index)==false)}return false};e.prototype.rewind=function(){if(this.index!=-1){XAudio.audioRewind(this.index)}};e.prototype.stop=function(){if(this.index!=-1){XAudio.audioStop(this.index)}};e.prototype.getLength=function(){return 0};e.prototype.seek=function(f){};e.prototype.setAudio=function(f){if(this.isPlaying()){XAudio.audioStop(this.index)}if(f!=null&&f!=""){this.audioPath=f;this.index=e.findAudioInCache(this.audioPath);if(this.index==-1){this.index=XAudio.audioCreateTag(this.audioPath)}}};e.prototype.getAudio=function(){return this.audioPath};e.prototype.onLeave=function(){if(this.index!=-1){XAudio.audioStop(this.index)}};e.prototype.onResize=function(){this.width=32;this.height=32};e.prototype.onRemovedFromStage=function(){this.stop()};Object.defineProperty(e.prototype,"src",{get:function(){return this.getAudio()},set:function(f){this.setAudio(f)},enumerable:true,configurable:true});e.EDIT_SOUND_ICON="images/sound.png";e.audioCache=new Array();return e})(b.UIMediaObject);b.UIMediaAudioClip=c})(pppUI||(pppUI={}));var Logger;(function(a){a.textArea="__logger";a.logTime=false;function b(d){var c=document.getElementById(a.textArea);if(c!=null){if(a.logTime){c.value+="["+Date.now().toString()+"] "+d+"\n"}else{c.value+=d+"\n"}c.scrollTop=c.scrollHeight}}a.log=b})(Logger||(Logger={}));var TLF;(function(f){var b=[/ clearFloats="none"/g,/ direction="ltr"/g,/ justificationRule="auto"/g,/ justificationStyle="auto"/g,/ leadingModel="auto"/g,/ paragraphEndIndent="0"/g,/ paragraphSpaceAfter="0"/g,/ paragraphSpaceBefore="0"/g,/ paragraphStartIndent="0"/g,/ textAlign="start"/g,/ textAlignLast="start"/g,/ textIndent="0"/g,/ textJustify="interWord"/g,/ wordSpacing="100%,50%,150%"/g,/ alignmentBaseline="useDominantBaseline"/g,/ backgroundAlpha="1"/g,/ backgroundColor="transparent"/g,/ baselineShift="0"/g,/ breakOpportunity="auto"/g,/ cffHinting="horizontalStem"/g,/ color="#000000"/g,/ digitCase="default"/g,/ digitWidth="default"/g,/ dominantBaseline="auto"/g,/ fontLookup="embeddedCFF"/g,/ fontStyle="normal"/g,/ kerning="auto"/g,/ ligatureLevel="common"/g,/ lineThrough="false"/g,/ locale="en"/g,/ renderingMode="cff"/g,/ textAlpha="1"/g,/ textRotation="auto"/g,/ trackingLeft="0"/g,/ trackingRight="0"/g,/ typographicCase="default"/g,/ fontWeight="normal"/g,/ textDecoration="none"/g,/ lineHeight="120%"/g,/ fontFamily="Arial"/g];function c(h){h=h.replace(/ whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http:\/\/ns.adobe.com\/textLayout\/2008"/g,"");for(var g=0;g<b.length;g++){h=h.replace(b[g],"")}h=h.replace(/<tab\/>/g,"&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;");return h}function e(h,g){if(h==null){return true}if(h.hasOwnProperty(g)==false){return true}if(h[g]!=true){return true}return false}function d(g){return(g.indexOf("<TextFlow")>=0)}f.isTLF=d;function a(o,t,k){if(typeof k==="undefined"){k=null}var r=c(o);var h=XDOM.newXMLFromString(r);var v=h.getElementsByTagName("p");var m;for(m=0;m<v.length;m++){var w=v[m];if(w.getAttribute("styleName")=="bullet"){w.setAttribute("class","list");w.removeAttribute("styleName")}if(w.getAttribute("textAlign")=="center"){w.setAttribute("style","text-align: center;")}else{if(w.getAttribute("textAlign")=="right"||w.getAttribute("textAlign")=="end"){w.setAttribute("style","text-align: right;")}}}var p=h.getElementsByTagName("span");for(m=0;m<p.length;m++){var s=p[m];var j="";if(s.getAttribute("fontSize")!=null){var u=parseInt(s.getAttribute("fontSize"));u=Math.floor(u*1.5);if(e(k,"fontSize")){j+="font-size: "+u.toString()+"px; "}s.removeAttribute("fontSize")}if(s.getAttribute("fontStyle")=="italic"){if(e(k,s.getAttribute("fontStyle"))){j+="font-style: italic; "}s.removeAttribute("fontStyle")}if(s.getAttribute("fontWeight")=="bold"){if(e(k,s.getAttribute("fontWeight"))){j+="font-weight: bold; "}s.removeAttribute("fontWeight")}if(s.getAttribute("color")!=null){if(e(k,"color")){j+="color: "+s.getAttribute("color")+"; "}s.removeAttribute("color")}if(s.getAttribute("textDecoration")=="underline"){if(e(k,s.getAttribute("textDecoration"))){j+="text-decoration: underline; "}s.removeAttribute("textDecoration")}if(j!=""){s.setAttribute("style",j)}}var n=h.getElementsByTagName("img");for(m=0;m<n.length;m++){var l=n[m];if(l.getAttribute("src")!=null){var g=l.getAttribute("src");if(t!=null){g=t(g)}else{g=g.replace(".swf",".png")}l.setAttribute("src",g)}if(l.getAttribute("source")!=null){var g=l.getAttribute("source");if(t!=null){g=t(g)}else{g=g.replace(".swf",".png")}l.setAttribute("src",g)}if(l.getAttribute("width")!=null){l.setAttribute("width",(parseInt(l.getAttribute("width"))*1.5).toString())}if(l.getAttribute("height")!=null){l.setAttribute("height",(parseInt(l.getAttribute("height"))*1.5).toString())}}var q=XDOM.XMLToString(h);q=q.replace(/<textflow>/i,"");q=q.replace(/<\/textflow>/i,"");return q}f.toHTML=a})(TLF||(TLF={}));var XDOM=(function(){function a(){}a.newXML=function(b){if(a.isMSIE){var d=new ActiveXObject("Microsoft.XMLDOM");if(b!=""&&b!=null&&b!=undefined){var c="<"+b+"></"+b+">";d.loadXML(c)}return d}else{if(document.implementation.createDocument){return document.implementation.createDocument("",b,null)}}return null};a.newXMLFromString=function(c){var d;var b;if(a.isMSIE){b=new ActiveXObject("Microsoft.XMLDOM");b.async=false;b.loadXML(c)}else{d=new DOMParser();b=d.parseFromString(c,"text/xml")}return b};a.newXMLFromURL=function(b,d,c){if(typeof d==="undefined"){d=null}if(typeof c==="undefined"){c=null}$.ajax({type:"GET",url:b,async:true,dataType:(a.isMSIE)?"text":"xml",success:function(f){var e;if(typeof f==="string"){e=new ActiveXObject("Microsoft.XMLDOM");e.async=false;e.loadXML(f)}else{e=f}if(d!=null){d(e)}},error:function(e,g,f){if(c!=null){c(g,f)}}})};a.cloneXML=function(f){var e;if(a.isMSIE){e=new ActiveXObject("Microsoft.XMLDOM");var b=f.documentElement;var d=b.cloneNode(true);e.appendChild(d)}else{e=f.implementation.createDocument(f.namespaceURI,null,null);var c=e.importNode(f.documentElement,true);e.appendChild(c)}return(e)};a.mergeXML=function(h,g,e,f){var c=a.cloneXML(h);var b=$(c);var d=$(g);d.children(e).children().each(function(){var l=this.nodeName;var j=b.children(e).children(l)[0];var i;if(j){i=j.nodeName}else{i=""}if(f==null||f==undefined){f=2}var k=false;switch(f){case 1:if(l==i){k=true}break;case 3:if(l!=i){k=true}break;case 4:break;case 2:default:k=true}if(k){a.removeNode(j);a.appendNode(b.children(e)[0],this)}});return c};a.XMLToString=function(d){var c;if(a.isMSIE){c=d.xml}else{var b=new XMLSerializer();c=b.serializeToString(d)}return c};a.nodeByPath=function(h,m){var e=m.split(".");var g=$(h).children("motor");var f;var d=g[0];for(f=0;f<e.length;f++){var c=e[f];if(f==(e.length-1)){var k;if(c.indexOf("@")!==-1){if(d==null){return null}return d}else{if(c.indexOf("[")>0){var j=parseInt(c.substring(c.indexOf("[")+1,c.indexOf["]"]));var l=c.substring(0,c.indexOf("["));k=$(d).children(l);if(k==null||k.length==0||j>(k.length-1)){return null}return k[j]}else{k=$(d).children(c);if(k==null||k.length==0){return null}return k[0]}}}else{var b;if(c.indexOf("[")>0){var j=parseInt(c.substring(c.indexOf("[")+1,c.indexOf["]"]));var l=c.substring(0,c.indexOf("["));b=$(d).children(l);if(b==null||b.length==0||j>(b.length-1)){return null}d=b[j]}else{b=$(d).children(c);if(b==null||b.length==0){return null}d=b[0]}}}return null};a.valueOfNode=function(h,n){var e=n.split(".");var g=$(h).children();var f;var d=g[0];for(f=0;f<e.length;f++){var c=e[f];if(f==(e.length-1)){var l;if(c.indexOf("@")!==-1){if(d==null){return""}var k=c.substring(1);return $(d).attr(k)}else{if(c.indexOf("[")>0){var j=parseInt(c.substring(c.indexOf("[")+1,c.indexOf["]"]));var m=c.substring(0,c.indexOf("["));l=$(d).children(m);if(l==null||l.length==0||j>(l.length-1)){return""}return $(l[j]).text()}else{l=$(d).children(c);if(l==null||l.length==0){return""}return $(l[0]).text()}}}else{var b;if(c.indexOf("[")>0){var j=parseInt(c.substring(c.indexOf("[")+1,c.indexOf["]"]));var m=c.substring(0,c.indexOf("["));b=$(d).children(m);if(b==null||b.length==0||j>(b.length-1)){return""}d=b[j]}else{b=$(d).children(c);if(b==null||b.length==0){return""}d=b[0]}}}return""};a.valueOfXMLNode=function(b){return $(b).text()};a.newNode=function(d){var c=a.newXML(d);var b=$(c).children(d)[0];return b};a.removeNode=function(b){if(b==null||b==undefined){return}if(a.isMSIE==true){b.parentNode.removeChild(b)}else{$(b).remove()}};a.appendNode=function(d,b){var c=b.cloneNode(true);d.appendChild(c)};a.getTextNodes=function(b){return $(b).contents().filter(function(){return(((this.nodeName=="#text"&&this.nodeType=="3")||this.nodeType=="4")&&($.trim(this.nodeValue.replace("\n",""))!==""))})};a.setNodeValue=function(c,d){var b=a.getTextNodes(c);if(b.get(0)){b.get(0).nodeValue=d}else{c.textContent=d}};a.setNewNodeCDATAValue=function(c,d,e){var b=c.createCDATASection(e);d.appendChild(b);return b};a.isMSIE=false;return a})();var XAudio=(function(){function a(){}a.audioGetId=function(b){return a._tagIdPrefix+"_audio_"+b};a.audioCreateTag=function(c){var b=this._nextIndex;this._nextIndex++;var e=a.audioGetId(b);var d="<audio id='"+e+"' preload='auto'>		<source src='"+encodeURI(c)+"' type='audio/mpeg'/></audio>";$(document.body).append(d);document.getElementById(e).addEventListener("playing",function(){$(this).attr("hasBeenPlayed","1")},false);return b};a.audioStart=function(b,d){var e=a.audioGetId(b);var c=document.getElementById(e);if(c==null){return}if($(c).attr("hasBeenPlayed")=="1"){c.currentTime=0}c.play();c.muted=d||false};a.audioStop=function(b){var d=a.audioGetId(b);var c=document.getElementById(d);if(c==null){return}if(!c.paused){c.pause()}if($(c).attr("hasBeenPlayed")=="1"){c.currentTime=0}};a.audioPlay=function(b,d){var e=a.audioGetId(b);var c=document.getElementById(e);if(c==null){return}if(c.paused){c.play();c.muted=d||false}};a.audioPause=function(b){var d=a.audioGetId(b);var c=document.getElementById(d);if(c==null){return}if(!c.paused){c.pause()}};a.audioRewind=function(b){var d=a.audioGetId(b);var c=document.getElementById(d);if($(c).attr("hasBeenPlayed")=="1"){c.currentTime=0}};a.audioUpdateMute=function(b,d){var e=a.audioGetId(b);var c=document.getElementById(e);if(c==null){return}c.muted=d||false};a.getDOMaudio=function(b){var d=a.audioGetId(b);var c=document.getElementById(d);if(c==null){return null}return c};a.currentTime=function(b){var d=a.audioGetId(b);var c=document.getElementById(d);if(!c){return}return c.currentTime};a.existAudio=function(b){var d=a.audioGetId(b);var c=document.getElementById(d);if(!c){return false}return true};a.isPaused=function(b){var d=a.audioGetId(b);var c=document.getElementById(d);if(!c){return false}return c.paused};a._tagIdPrefix="ssi_ae";a._nextIndex=0;return a})();var XHTML=(function(){function a(){}a.getElementValue=function(d){var c;var b=$(document.getElementById(d));if(b.prop("type")=="checkbox"){if(b.prop("checked")=="true"||b.prop("checked")=="1"){c="1"}else{c="0"}}else{c=b.prop("value")}return c};a.countElementMatches=function(k,c,d,j,h){var e;var f=0;for(e=0;e<c;e++){var g=k+"["+e+"]."+d;var b=a.getElementValue(g);if(h){if(b==j){f++}}else{if(b!=j){f++}}}return f};a.setElementValue=function(b,d){var c=document.getElementById(b);if(c==null){return}if(c.type==="checkbox"){if(d=="1"||d==1||d==true||d=="true"){c.checked=true}else{if(d=="0"||d==0||d==false||d=="false"){c.checked=false}}}else{c.value=d}};a.setElementContent=function(c,b){var d=document.getElementById(c);if(d){d.innerHTML=b;return true}return false};a.getInputSelection=function(f){var i=0,d=0,h,e,c,b,g;f.focus();if(typeof f.selectionStart=="number"&&typeof f.selectionEnd=="number"){i=f.selectionStart;d=f.selectionEnd}else{e=document.selection.createRange();if(e&&e.parentElement()==f){b=f.value.length;h=f.value.replace(/\r\n/g,"\n");c=f.createTextRange();c.moveToBookmark(e.getBookmark());g=f.createTextRange();g.collapse(false);if(c.compareEndPoints("StartToEnd",g)>-1){i=d=b}else{i=-c.moveStart("character",-b);i+=h.slice(0,i).split("\n").length-1;if(c.compareEndPoints("EndToEnd",g)>-1){d=b}else{d=-c.moveEnd("character",-b);d+=h.slice(0,d).split("\n").length-1}}}}return{start:i,end:d}};a.setCaretPosition=function(c,d){if(c.setSelectionRange){c.focus();c.setSelectionRange(d,d)}else{if(c.createTextRange){var b=c.createTextRange();b.collapse(true);b.moveEnd("character",d);b.moveStart("character",d);b.select()}}};a.replace=function(e,c,d){var b=e.split(c);return b.join(d)};a.replaceLinks=function(i,d,h,c,f){var g="";var k=i.indexOf(d);while(k!=-1){g=g+i.substr(0,k);i=i.substr(k+d.length);var b=i.indexOf(c);var e=i.indexOf(h);var j=i.substr(0,b);var l=i.substr(b+c.length,e-(b+c.length));g+="<span style='color:"+f+";'><a href='"+j+"' target='_blank'>"+l+"</a></span>";i=i.substr(e+h.length);k=i.indexOf(d)}if(i.length>0){g+=i}return g};a.xmlToHtml=function(b){b=a.replace(b,"&","&amp;");b=a.replace(b,"<","&lt;");b=a.replace(b,">","&gt;");b=a.replace(b,'"',"&quot;");b=a.replace(b,"'","&apos;");b=a.replace(b,"{{sub}}",'</span><span style="vertical-align:sub;">');b=a.replace(b,"{{sup}}",'</span><span style="vertical-align:super;">');b=a.replace(b,"{{/subsup}}","</span><span>");b=a.replace(b,"{{normal}}","</span><span>");b=a.replace(b,"{{cur}}",'</span><span style="font-style: italic;">');b=a.replace(b,"{{neg}}",'</span><span style="font-weight: bold;">');b=a.replace(b,"{{u}}",'</span><span style="text-decoration: underline;">');b=a.replaceLinks(b,"{{link:","}}","||","#0000FF");return"<span>"+b+"</span>"};return a})();var XError=(function(){function a(){this.errors=new Array();this.warnings=new Array()}return a})();var XErrors=(function(){function a(){this.fields=new Object()}a.prototype.addError=function(b,c){if(this.fields.hasOwnProperty(b)==false){this.fields[b]=new XError()}this.fields[b].errors.push(c)};a.prototype.addWarning=function(b,c){if(this.fields.hasOwnProperty(b)==false){this.fields[b]=new XError()}this.fields[b].warnings.push(c)};a.prototype.hasErrors=function(){var b;for(b in this.fields){if(this.fields[b].errors.length>0){return true}}return false};a.prototype.hasWarnings=function(){var b;for(b in this.fields){if(this.fields[b].warnings.length>0){return true}}return false};a.prototype.getFieldData=function(b){if(this.fields.hasOwnProperty(b)){return this.fields[b]}return null};return a})();var XSchema=(function(){function a(b,c){this.trim=function(d){if(d==null){return""}return d.replace(/^\s+|\s+$/g,"")};this.exportXML=function(d){this.xmlResult="";this.xmlData=d;this.exportAll(this.$xmlDef.children("motor").children("export"));return this.xmlResult};this.stack=new Array();this.vars=new Object();this.$xmlDef=$(b);this.xmlResult="";this.stack.push(new Object());this.varsParsed=false;this.secundaria=c;this.parseVars(this.$xmlDef.children("motor").children("vars"))}a.prototype.addVar=function(d,c){var b=this.stack[this.stack.length-1];b[d]=c;this.vars[d]=c};a.prototype.parseVars=function(d){if(this.varsParsed===false){this.varsParsed=true;var b=$(d[0]);var c=this;b.children("var").each(function(){var g=$(this);var i=g.attr("id");var e=g.attr("value_pri");var f=g.attr("value_sec");var h=g.attr("value");if(e!=null&&f!=null){if(this.secundaria===false){h=e}else{h=f}}c.addVar(i,h)})}};a.prototype.pushContext=function(){var c=this.stack[this.stack.length-1];var d=new Object();for(var b in c){d[b]=c[b]}this.stack.push(d);return d};a.prototype.popContext=function(){this.stack.pop()};a.prototype.getVar=function(b){return this.vars[b]};a.prototype.getIntVar=function(b){if(this.vars[b]!=null&&this.vars[b]!=undefined){return parseInt(this.vars[b])}return 0};a.prototype.encodeXML=function(b){b=b.replace(/&/g,"&amp;");b=b.replace(/</g,"&lt;");b=b.replace(/>/g,"&gt;");b=b.replace(/\"/g,"&quot;");b=b.replace(/\'/g,"&apos;");return b};a.prototype.encodeCDATA=function(b){if(b!==""){return"<![CDATA["+b+"]]>"}else{return""}};a.prototype.parseFields=function(j,e){var d=/(\$)/;j=this.parseString(j);var g=j.split(d);if(g.length===1){return j}var c="";var b=0;while(b<g.length){if(g[b]==="$"){var f=g[b+1];var h=XHTML.getElementValue(f);if(e==false){c+=h}else{if(f.indexOf(".@")!=-1){if(h==undefined){alert("field undefined: "+f)}c+=this.encodeXML(h)}else{c+=this.encodeCDATA(h)}}b+=3}else{c+=g[b];b++}}return c};a.prototype.parseString=function(f){var d=/(\#)/;var e=f.split(d);if(e.length===1){return f}var c="";var b=0;while(b<e.length){if(e[b]==="#"){c+=this.parseExpr(e[b+1]);b+=3}else{c+=e[b];b++}}return c};a.prototype.parseExpr=function(f){f=this.trim(f);if(f.charAt(0)==="#"){f=f.substr(1,f.length-2)}var c=/(\+|\-|\*|\/)/;var d=f.split(c);var e=0;var b=1;if(d[0]==="-"){e=-this.parseValue(d[1]);b=2}else{e=this.parseValue(d[0]);b=1}while(b<d.length){switch(d[b]){case"+":e+=this.parseValue(d[b+1]);b+=2;break;case"-":e-=this.parseValue(d[b+1]);b+=2;break;case"*":e*=this.parseValue(d[b+1]);b+=2;break;case"/":e/=this.parseValue(d[b+1]);b+=2;break}}return e};a.prototype.parseValue=function(c){c=this.trim(c);var b=this.stack[this.stack.length-1];if(b[c]!=null&&b[c]!=undefined){return parseInt(b[c])}else{return parseInt(c)}};a.prototype.getIfaceItems=function(){var c="";var b=new Array();this.forEachInInterface(function(e,d){b.push(e);c+=e+"\n"});return b};a.prototype.getIfaceChecks=function(){var b=new Object();this.forEachInInterface(function(d,c){if(c!=null&&c!=""){b[d]=c}else{b[d]=""}});return b};a.prototype.forEachInInterface=function(b){this.processIface(this.$xmlDef.children("motor").children("iface"),b)};a.prototype.processIface=function(e,b){var c=$(e[0]);var d=this;c.children().each(function(){if(this.tagName==="repeat"){d.processIfaceRepeat(this,b)}else{if(this.tagName==="controlgroup"){d.processIfaceGroup(this,b)}else{d.processIfaceNode(this,b)}}})};a.prototype.processIfaceRepeat=function(f,e){var b=$(f);var c=b.attr("index");var h=this.parseExpr(b.attr("times"));var d;var j=this.pushContext();for(d=0;d<h;d++){j[c]=d;var g=this;b.children().each(function(){if(this.tagName==="repeat"){g.processIfaceRepeat(this,e)}else{if(this.tagName==="controlgroup"){g.processIfaceGroup(this,e)}else{g.processIfaceNode(this,e)}}})}this.popContext()};a.prototype.processIfaceGroup=function(d,c){var b=$(d);var e=this;b.children().each(function(){if(this.tagName==="repeat"){e.processIfaceRepeat(this,c)}else{if(this.tagName==="controlgroup"){e.processIfaceGroup(this,c)}else{e.processIfaceNode(this,c)}}})};a.prototype.processIfaceNode=function(d,c){var g=$(d).attr("id");var b=$(d).attr("checks");if(g!=null&&g!=""&&g!=undefined){var e=this.parseFields(g,false);var f;if(b!=undefined&&b!=null&&b!=""){f=this.parseFields(b,false)}c(e,f)}};a.prototype.processChecks=function(d){var b=this.getIfaceChecks();for(var c in b){if(b.hasOwnProperty(c)){this.processChecksForField(d,c,b[c])}}};a.prototype.stripSpecialMarks=function(b){b=b.replace(/\{\{sub\}\}/g,"");b=b.replace(/\{\{sup\}\}/g,"");b=b.replace(/\{\{\/subsup\}\}/g,"");b=b.replace(/\{\{subsup\}\}/g,"");b=b.replace(/\{\{cur\}\}/g,"");b=b.replace(/\{\{neg\}\}/g,"");b=b.replace(/\{\{u\}\}/g,"");b=b.replace(/\{\{normal\}\}/g,"");return b};a.prototype.isCheckBox=function(c){var b=$(document.getElementById(c));if(b.prop("type")=="checkbox"){return true}else{return false}};a.prototype.processChecksForField=function(b,j,e){if(e==null||e==""||e==""){return false}var d=XHTML.getElementValue(j);var g=e.split(";");for(var h=0;h<g.length;h++){var c=g[h].split(":");var f=this.stripSpecialMarks(d);switch(c[0]){case"required":if(d==""){b.addError(j,"Este campo es obligatorio")}break;case"min":if(f.length<parseInt(c[1])){b.addError(j,"Debe tener un mnimo de "+c[1]+" caracteres (tiene "+f.length+")")}break;case"max":if(f.length>parseInt(c[1])){b.addWarning(j,"Sobrepasa el mximo permitido de "+c[1]+" caracteres (tiene "+f.length+")")}break;case"depends":var k=d;var m=c[1];var l=XHTML.getElementValue(m);if(this.isCheckBox(j)&&k=="0"){k=""}if(this.isCheckBox(m)&&l=="0"){l=""}if(k!=""&&l==""){b.addError(j,"Este campo no tiene sentido sin "+c[2])}break}}};a.prototype.exportAll=function(d){var b=$(d[0]);var c=this;b.children().each(function(){if(this.tagName==="block"){c.exportNode(this)}else{if(this.tagName==="repeat"){c.exportRepeat(this)}}})};a.prototype.exportRepeat=function(f){var c=$(f);var j=c.attr("count");var k=c.attr("index");var b=this.parseExpr(c.attr("times"));var h=b;var o=c.attr("ifnotempty");var g;var l;var e=this.pushContext();if(o!=null&&o!==""){h=0;for(g=0;g<b;g++){e[k]=g;l=this.parseFields(o,false);if(l!==""){h++}}}if(j!=null&&j!==""){e[j]=h}var m=c.children("initag")[0];if(m!=null){this.exportNode(m)}var n=c.children("body");for(g=0;g<b;g++){e[k]=g;if(o!=null&&o!==""){l=this.parseFields(o,false);if(l!==""){this.exportBody(n)}}else{this.exportBody(n)}}var d=c.children("endtag")[0];if(d!=null){this.exportNode(d)}this.popContext()};a.prototype.exportNode=function(c){var d;if(XDOM.isMSIE){d=c.text}else{d=c.textContent}if(d!=null&&d!=""){var b=this.parseFields(d,true);this.xmlResult+=b}};a.prototype.exportBody=function(d){var b=$(d[0]);var c=this;b.children().each(function(){if(this.tagName==="block"){c.exportNode(this)}else{if(this.tagName==="repeat"){c.exportRepeat(this)}}})};return a})();